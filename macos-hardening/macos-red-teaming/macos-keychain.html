<!DOCTYPE HTML>
<html lang="zh" class="light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>macOS Keychain</title>


        <!-- Custom HTML head -->

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="../../favicon.svg">
        <link rel="shortcut icon" href="../../favicon.png">
        <link rel="stylesheet" href="../../css/variables.css">
        <link rel="stylesheet" href="../../css/general.css">
        <link rel="stylesheet" href="../../css/chrome.css">
        <link rel="stylesheet" href="../../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../../highlight.css">
        <link rel="stylesheet" href="../../tomorrow-night.css">
        <link rel="stylesheet" href="../../ayu-highlight.css">

        <!-- Custom theme stylesheets -->


        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "../../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="../../toc.js"></script>
    </head>
    <body>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var sidebar = null;
            var sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="../../toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title"></h1>

                    <div class="right-buttons">
                        <a href="../../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="macos-keychain"><a class="header" href="#macos-keychain">macOS Keychain</a></h1>
<p>{% hint style="success" %}
å­¦ä¹ ä¸å®è·µ AWS é»‘å®¢æŠ€æœ¯ï¼š<img src="../../.gitbook/assets/arte.png" alt="" data-size="line"><a href="https://training.hacktricks.xyz/courses/arte"><strong>HackTricks åŸ¹è®­ AWS çº¢é˜Ÿä¸“å®¶ (ARTE)</strong></a><img src="../../.gitbook/assets/arte.png" alt="" data-size="line"><br />
å­¦ä¹ ä¸å®è·µ GCP é»‘å®¢æŠ€æœ¯ï¼š<img src="../../.gitbook/assets/grte.png" alt="" data-size="line"><a href="https://training.hacktricks.xyz/courses/grte"><strong>HackTricks åŸ¹è®­ GCP çº¢é˜Ÿä¸“å®¶ (GRTE)</strong><img src="../../.gitbook/assets/grte.png" alt="" data-size="line"></a></p>
<details>
<summary>æ”¯æŒ HackTricks</summary>
<ul>
<li>æŸ¥çœ‹ <a href="https://github.com/sponsors/carlospolop"><strong>è®¢é˜…è®¡åˆ’</strong></a>!</li>
<li><strong>åŠ å…¥</strong> ğŸ’¬ <a href="https://discord.gg/hRep4RUj7f"><strong>Discord ç¾¤ç»„</strong></a> æˆ– <a href="https://t.me/peass"><strong>Telegram ç¾¤ç»„</strong></a> æˆ– <strong>åœ¨</strong> <strong>Twitter</strong> ğŸ¦ <strong>ä¸Šå…³æ³¨æˆ‘ä»¬</strong> <a href="https://twitter.com/hacktricks_live"><strong>@hacktricks_live</strong></a><strong>.</strong></li>
<li><strong>é€šè¿‡å‘</strong> <a href="https://github.com/carlospolop/hacktricks"><strong>HackTricks</strong></a> å’Œ <a href="https://github.com/carlospolop/hacktricks-cloud"><strong>HackTricks Cloud</strong></a> GitHub ä»“åº“æäº¤ PR åˆ†äº«é»‘å®¢æŠ€å·§ã€‚</li>
</ul>
</details>
{% endhint %}
<h2 id="ä¸»è¦é’¥åŒ™ä¸²"><a class="header" href="#ä¸»è¦é’¥åŒ™ä¸²">ä¸»è¦é’¥åŒ™ä¸²</a></h2>
<ul>
<li><strong>ç”¨æˆ·é’¥åŒ™ä¸²</strong> (<code>~/Library/Keychains/login.keychain-db</code>)ï¼Œç”¨äºå­˜å‚¨ <strong>ç”¨æˆ·ç‰¹å®šçš„å‡­æ®</strong>ï¼Œå¦‚åº”ç”¨ç¨‹åºå¯†ç ã€äº’è”ç½‘å¯†ç ã€ç”¨æˆ·ç”Ÿæˆçš„è¯ä¹¦ã€ç½‘ç»œå¯†ç å’Œç”¨æˆ·ç”Ÿæˆçš„å…¬é’¥/ç§é’¥ã€‚</li>
<li><strong>ç³»ç»Ÿé’¥åŒ™ä¸²</strong> (<code>/Library/Keychains/System.keychain</code>)ï¼Œå­˜å‚¨ <strong>ç³»ç»ŸèŒƒå›´çš„å‡­æ®</strong>ï¼Œå¦‚ WiFi å¯†ç ã€ç³»ç»Ÿæ ¹è¯ä¹¦ã€ç³»ç»Ÿç§é’¥å’Œç³»ç»Ÿåº”ç”¨ç¨‹åºå¯†ç ã€‚</li>
<li>å¯ä»¥åœ¨ <code>/System/Library/Keychains/*</code> ä¸­æ‰¾åˆ°å…¶ä»–ç»„ä»¶ï¼Œå¦‚è¯ä¹¦ã€‚</li>
<li>åœ¨ <strong>iOS</strong> ä¸­åªæœ‰ä¸€ä¸ª <strong>é’¥åŒ™ä¸²</strong> ä½äº <code>/private/var/Keychains/</code>ã€‚æ­¤æ–‡ä»¶å¤¹è¿˜åŒ…å« <code>TrustStore</code> çš„æ•°æ®åº“ã€è¯ä¹¦é¢å‘æœºæ„ï¼ˆ<code>caissuercache</code>ï¼‰å’Œ OSCP æ¡ç›®ï¼ˆ<code>ocspache</code>ï¼‰ã€‚</li>
<li>åº”ç”¨ç¨‹åºåœ¨é’¥åŒ™ä¸²ä¸­çš„è®¿é—®å°†ä»…é™äºå…¶åŸºäºåº”ç”¨ç¨‹åºæ ‡è¯†ç¬¦çš„ç§æœ‰åŒºåŸŸã€‚</li>
</ul>
<h3 id="å¯†ç é’¥åŒ™ä¸²è®¿é—®"><a class="header" href="#å¯†ç é’¥åŒ™ä¸²è®¿é—®">å¯†ç é’¥åŒ™ä¸²è®¿é—®</a></h3>
<p>è¿™äº›æ–‡ä»¶è™½ç„¶æ²¡æœ‰å›ºæœ‰çš„ä¿æŠ¤å¹¶ä¸”å¯ä»¥è¢« <strong>ä¸‹è½½</strong>ï¼Œä½†å®ƒä»¬æ˜¯åŠ å¯†çš„ï¼Œéœ€è¦ <strong>ç”¨æˆ·çš„æ˜æ–‡å¯†ç è¿›è¡Œè§£å¯†</strong>ã€‚å¯ä»¥ä½¿ç”¨åƒ <a href="https://github.com/n0fate/chainbreaker"><strong>Chainbreaker</strong></a> è¿™æ ·çš„å·¥å…·è¿›è¡Œè§£å¯†ã€‚</p>
<h2 id="é’¥åŒ™ä¸²æ¡ç›®ä¿æŠ¤"><a class="header" href="#é’¥åŒ™ä¸²æ¡ç›®ä¿æŠ¤">é’¥åŒ™ä¸²æ¡ç›®ä¿æŠ¤</a></h2>
<h3 id="acls"><a class="header" href="#acls">ACLs</a></h3>
<p>é’¥åŒ™ä¸²ä¸­çš„æ¯ä¸ªæ¡ç›®éƒ½å— <strong>è®¿é—®æ§åˆ¶åˆ—è¡¨ (ACLs)</strong> çš„ç®¡ç†ï¼Œè§„å®šè°å¯ä»¥å¯¹é’¥åŒ™ä¸²æ¡ç›®æ‰§è¡Œå„ç§æ“ä½œï¼ŒåŒ…æ‹¬ï¼š</p>
<ul>
<li><strong>ACLAuhtorizationExportClear</strong>ï¼šå…è®¸æŒæœ‰è€…è·å–ç§˜å¯†çš„æ˜æ–‡ã€‚</li>
<li><strong>ACLAuhtorizationExportWrapped</strong>ï¼šå…è®¸æŒæœ‰è€…è·å–ç”¨å¦ä¸€ä¸ªæä¾›çš„å¯†ç åŠ å¯†çš„æ˜æ–‡ã€‚</li>
<li><strong>ACLAuhtorizationAny</strong>ï¼šå…è®¸æŒæœ‰è€…æ‰§è¡Œä»»ä½•æ“ä½œã€‚</li>
</ul>
<p>ACLs è¿˜ä¼´éšæœ‰ä¸€ä¸ª <strong>å—ä¿¡ä»»åº”ç”¨ç¨‹åºåˆ—è¡¨</strong>ï¼Œå¯ä»¥åœ¨ä¸æç¤ºçš„æƒ…å†µä¸‹æ‰§è¡Œè¿™äº›æ“ä½œã€‚å¯èƒ½æ˜¯ï¼š</p>
<ul>
<li><strong>N<code>il</code></strong>ï¼ˆä¸éœ€è¦æˆæƒï¼Œ<strong>æ‰€æœ‰äººéƒ½è¢«ä¿¡ä»»</strong>ï¼‰</li>
<li>ä¸€ä¸ª <strong>ç©º</strong> åˆ—è¡¨ï¼ˆ<strong>æ²¡æœ‰äºº</strong>è¢«ä¿¡ä»»ï¼‰</li>
<li><strong>ç‰¹å®šåº”ç”¨ç¨‹åº</strong> çš„ <strong>åˆ—è¡¨</strong>ã€‚</li>
</ul>
<p>æ¡ç›®è¿˜å¯èƒ½åŒ…å«é”® <strong><code>ACLAuthorizationPartitionID</code></strong>ï¼Œç”¨äºè¯†åˆ« <strong>teamidã€apple</strong> å’Œ <strong>cdhash</strong>ã€‚</p>
<ul>
<li>å¦‚æœæŒ‡å®šäº† <strong>teamid</strong>ï¼Œåˆ™ä¸ºäº† <strong>åœ¨ä¸æç¤ºçš„æƒ…å†µä¸‹è®¿é—®æ¡ç›®</strong> å€¼ï¼Œä½¿ç”¨çš„åº”ç”¨ç¨‹åºå¿…é¡»å…·æœ‰ <strong>ç›¸åŒçš„ teamid</strong>ã€‚</li>
<li>å¦‚æœæŒ‡å®šäº† <strong>apple</strong>ï¼Œåˆ™åº”ç”¨ç¨‹åºéœ€è¦ç”± <strong>Apple</strong> <strong>ç­¾å</strong>ã€‚</li>
<li>å¦‚æœæŒ‡æ˜äº† <strong>cdhash</strong>ï¼Œåˆ™ <strong>åº”ç”¨ç¨‹åº</strong> å¿…é¡»å…·æœ‰ç‰¹å®šçš„ <strong>cdhash</strong>ã€‚</li>
</ul>
<h3 id="åˆ›å»ºé’¥åŒ™ä¸²æ¡ç›®"><a class="header" href="#åˆ›å»ºé’¥åŒ™ä¸²æ¡ç›®">åˆ›å»ºé’¥åŒ™ä¸²æ¡ç›®</a></h3>
<p>å½“ä½¿ç”¨ <strong><code>Keychain Access.app</code></strong> åˆ›å»º <strong>æ–°</strong> <strong>æ¡ç›®</strong> æ—¶ï¼Œé€‚ç”¨ä»¥ä¸‹è§„åˆ™ï¼š</p>
<ul>
<li>æ‰€æœ‰åº”ç”¨ç¨‹åºéƒ½å¯ä»¥åŠ å¯†ã€‚</li>
<li><strong>æ²¡æœ‰åº”ç”¨ç¨‹åº</strong> å¯ä»¥å¯¼å‡º/è§£å¯†ï¼ˆä¸æç¤ºç”¨æˆ·ï¼‰ã€‚</li>
<li>æ‰€æœ‰åº”ç”¨ç¨‹åºéƒ½å¯ä»¥æŸ¥çœ‹å®Œæ•´æ€§æ£€æŸ¥ã€‚</li>
<li>æ²¡æœ‰åº”ç”¨ç¨‹åºå¯ä»¥æ›´æ”¹ ACLsã€‚</li>
<li><strong>partitionID</strong> è®¾ç½®ä¸º <strong><code>apple</code></strong>ã€‚</li>
</ul>
<p>å½“ <strong>åº”ç”¨ç¨‹åºåœ¨é’¥åŒ™ä¸²ä¸­åˆ›å»ºæ¡ç›®</strong> æ—¶ï¼Œè§„åˆ™ç•¥æœ‰ä¸åŒï¼š</p>
<ul>
<li>æ‰€æœ‰åº”ç”¨ç¨‹åºéƒ½å¯ä»¥åŠ å¯†ã€‚</li>
<li>åªæœ‰ <strong>åˆ›å»ºåº”ç”¨ç¨‹åº</strong>ï¼ˆæˆ–ä»»ä½•å…¶ä»–æ˜ç¡®æ·»åŠ çš„åº”ç”¨ç¨‹åºï¼‰å¯ä»¥å¯¼å‡º/è§£å¯†ï¼ˆä¸æç¤ºç”¨æˆ·ï¼‰ã€‚</li>
<li>æ‰€æœ‰åº”ç”¨ç¨‹åºéƒ½å¯ä»¥æŸ¥çœ‹å®Œæ•´æ€§æ£€æŸ¥ã€‚</li>
<li>æ²¡æœ‰åº”ç”¨ç¨‹åºå¯ä»¥æ›´æ”¹ ACLsã€‚</li>
<li><strong>partitionID</strong> è®¾ç½®ä¸º <strong><code>teamid:[teamID here]</code></strong>ã€‚</li>
</ul>
<h2 id="è®¿é—®é’¥åŒ™ä¸²"><a class="header" href="#è®¿é—®é’¥åŒ™ä¸²">è®¿é—®é’¥åŒ™ä¸²</a></h2>
<h3 id="security"><a class="header" href="#security"><code>security</code></a></h3>
<pre><code class="language-bash"># List keychains
security list-keychains

# Dump all metadata and decrypted secrets (a lot of pop-ups)
security dump-keychain -a -d

# Find generic password for the "Slack" account and print the secrets
security find-generic-password -a "Slack" -g

# Change the specified entrys PartitionID entry
security set-generic-password-parition-list -s "test service" -a "test acount" -S

# Dump specifically the user keychain
security dump-keychain ~/Library/Keychains/login.keychain-db
</code></pre>
<h3 id="apis"><a class="header" href="#apis">APIs</a></h3>
<p>{% hint style="success" %}
<strong>å¯†é’¥é“¾æšä¸¾å’Œç§˜å¯†è½¬å‚¨</strong>çš„æ“ä½œå¯ä»¥ä½¿ç”¨å·¥å…· <a href="https://github.com/its-a-feature/LockSmith"><strong>LockSmith</strong></a> æ¥å®Œæˆï¼Œè¿™äº›æ“ä½œ<strong>ä¸ä¼šç”Ÿæˆæç¤º</strong>ã€‚</p>
<p>å…¶ä»– API ç«¯ç‚¹å¯ä»¥åœ¨ <a href="https://opensource.apple.com/source/libsecurity_keychain/libsecurity_keychain-55017/lib/SecKeychain.h.auto.html"><strong>SecKeyChain.h</strong></a> æºä»£ç ä¸­æ‰¾åˆ°ã€‚
{% endhint %}</p>
<p>ä½¿ç”¨ <strong>Security Framework</strong> åˆ—å‡ºå¹¶è·å–æ¯ä¸ªå¯†é’¥é“¾æ¡ç›®çš„ <strong>ä¿¡æ¯</strong>ï¼Œæˆ–è€…æ‚¨ä¹Ÿå¯ä»¥æŸ¥çœ‹è‹¹æœçš„å¼€æº CLI å·¥å…· <a href="https://opensource.apple.com/source/Security/Security-59306.61.1/SecurityTool/macOS/security.c.auto.html"><strong>security</strong></a><strong>ã€‚</strong> ä¸€äº› API ç¤ºä¾‹ï¼š</p>
<ul>
<li>API <strong><code>SecItemCopyMatching</code></strong> æä¾›æ¯ä¸ªæ¡ç›®çš„ä¿¡æ¯ï¼Œå¹¶ä¸”åœ¨ä½¿ç”¨æ—¶å¯ä»¥è®¾ç½®ä¸€äº›å±æ€§ï¼š</li>
<li><strong><code>kSecReturnData</code></strong>ï¼šå¦‚æœä¸ºçœŸï¼Œå®ƒå°†å°è¯•è§£å¯†æ•°æ®ï¼ˆè®¾ç½®ä¸ºå‡ä»¥é¿å…æ½œåœ¨çš„å¼¹å‡ºçª—å£ï¼‰</li>
<li><strong><code>kSecReturnRef</code></strong>ï¼šè¿˜è·å–å¯†é’¥é“¾é¡¹ç›®çš„å¼•ç”¨ï¼ˆå¦‚æœç¨åæ‚¨çœ‹åˆ°å¯ä»¥åœ¨æ²¡æœ‰å¼¹å‡ºçª—å£çš„æƒ…å†µä¸‹è§£å¯†ï¼Œåˆ™è®¾ç½®ä¸ºçœŸï¼‰</li>
<li><strong><code>kSecReturnAttributes</code></strong>ï¼šè·å–æ¡ç›®çš„å…ƒæ•°æ®</li>
<li><strong><code>kSecMatchLimit</code></strong>ï¼šè¿”å›å¤šå°‘ç»“æœ</li>
<li><strong><code>kSecClass</code></strong>ï¼šä»€ä¹ˆç±»å‹çš„å¯†é’¥é“¾æ¡ç›®</li>
</ul>
<p>è·å–æ¯ä¸ªæ¡ç›®çš„ <strong>ACL</strong>ï¼š</p>
<ul>
<li>ä½¿ç”¨ API <strong><code>SecAccessCopyACLList</code></strong> å¯ä»¥è·å– <strong>å¯†é’¥é“¾é¡¹ç›®çš„ ACL</strong>ï¼Œå®ƒå°†è¿”å›ä¸€ä¸ª ACL åˆ—è¡¨ï¼ˆå¦‚ <code>ACLAuhtorizationExportClear</code> å’Œä¹‹å‰æåˆ°çš„å…¶ä»–é¡¹ï¼‰ï¼Œæ¯ä¸ªåˆ—è¡¨åŒ…å«ï¼š</li>
<li>æè¿°</li>
<li><strong>å—ä¿¡ä»»çš„åº”ç”¨ç¨‹åºåˆ—è¡¨</strong>ã€‚è¿™å¯ä»¥æ˜¯ï¼š</li>
<li>ä¸€ä¸ªåº”ç”¨ç¨‹åºï¼š/Applications/Slack.app</li>
<li>ä¸€ä¸ªäºŒè¿›åˆ¶æ–‡ä»¶ï¼š/usr/libexec/airportd</li>
<li>ä¸€ä¸ªç»„ï¼šgroup://AirPort</li>
</ul>
<p>å¯¼å‡ºæ•°æ®ï¼š</p>
<ul>
<li>API <strong><code>SecKeychainItemCopyContent</code></strong> è·å–æ˜æ–‡</li>
<li>API <strong><code>SecItemExport</code></strong> å¯¼å‡ºå¯†é’¥å’Œè¯ä¹¦ï¼Œä½†å¯èƒ½éœ€è¦è®¾ç½®å¯†ç ä»¥åŠ å¯†å¯¼å‡ºå†…å®¹</li>
</ul>
<p>è¿™äº›æ˜¯èƒ½å¤Ÿ <strong>åœ¨æ²¡æœ‰æç¤ºçš„æƒ…å†µä¸‹å¯¼å‡ºç§˜å¯†</strong> çš„ <strong>è¦æ±‚</strong>ï¼š</p>
<ul>
<li>å¦‚æœ <strong>1+ ä¸ªå—ä¿¡ä»»</strong> åº”ç”¨ç¨‹åºåˆ—å‡ºï¼š</li>
<li>éœ€è¦é€‚å½“çš„ <strong>æˆæƒ</strong>ï¼ˆ<strong><code>Nil</code></strong>ï¼Œæˆ–æ˜¯ <strong>å…è®¸</strong> è®¿é—®ç§˜å¯†ä¿¡æ¯çš„åº”ç”¨ç¨‹åºåˆ—è¡¨çš„ä¸€éƒ¨åˆ†ï¼‰</li>
<li>éœ€è¦ä»£ç ç­¾åä¸ <strong>PartitionID</strong> åŒ¹é…</li>
<li>éœ€è¦ä»£ç ç­¾åä¸ä¸€ä¸ª <strong>å—ä¿¡ä»»çš„åº”ç”¨ç¨‹åº</strong> çš„ç­¾ååŒ¹é…ï¼ˆæˆ–æ˜¯æ­£ç¡®çš„ KeychainAccessGroup çš„æˆå‘˜ï¼‰</li>
<li>å¦‚æœ <strong>æ‰€æœ‰åº”ç”¨ç¨‹åºå—ä¿¡ä»»</strong>ï¼š</li>
<li>éœ€è¦é€‚å½“çš„ <strong>æˆæƒ</strong></li>
<li>éœ€è¦ä»£ç ç­¾åä¸ <strong>PartitionID</strong> åŒ¹é…</li>
<li>å¦‚æœ <strong>æ²¡æœ‰ PartitionID</strong>ï¼Œåˆ™ä¸éœ€è¦æ­¤é¡¹</li>
</ul>
<p>{% hint style="danger" %}
å› æ­¤ï¼Œå¦‚æœåˆ—å‡ºäº† <strong>1 ä¸ªåº”ç”¨ç¨‹åº</strong>ï¼Œæ‚¨éœ€è¦ <strong>åœ¨è¯¥åº”ç”¨ç¨‹åºä¸­æ³¨å…¥ä»£ç </strong>ã€‚</p>
<p>å¦‚æœ <strong>apple</strong> åœ¨ <strong>partitionID</strong> ä¸­è¢«æŒ‡ç¤ºï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ <strong><code>osascript</code></strong> è®¿é—®å®ƒï¼Œå› æ­¤ä»»ä½•ä¿¡ä»»æ‰€æœ‰åº”ç”¨ç¨‹åºä¸”åœ¨ partitionID ä¸­åŒ…å« apple çš„å†…å®¹ã€‚<strong><code>Python</code></strong> ä¹Ÿå¯ä»¥ç”¨äºæ­¤ã€‚
{% endhint %}</p>
<h3 id="ä¸¤ä¸ªé¢å¤–å±æ€§"><a class="header" href="#ä¸¤ä¸ªé¢å¤–å±æ€§">ä¸¤ä¸ªé¢å¤–å±æ€§</a></h3>
<ul>
<li><strong>Invisible</strong>ï¼šè¿™æ˜¯ä¸€ä¸ªå¸ƒå°”æ ‡å¿—ï¼Œç”¨äº <strong>éšè—</strong> å¯†é’¥é“¾æ¡ç›®åœ¨ <strong>UI</strong> ä¸­çš„æ˜¾ç¤º</li>
<li><strong>General</strong>ï¼šç”¨äºå­˜å‚¨ <strong>å…ƒæ•°æ®</strong>ï¼ˆå› æ­¤å®ƒä¸æ˜¯åŠ å¯†çš„ï¼‰</li>
<li>å¾®è½¯ä»¥æ˜æ–‡å­˜å‚¨æ‰€æœ‰è®¿é—®æ•æ„Ÿç«¯ç‚¹çš„åˆ·æ–°ä»¤ç‰Œã€‚</li>
</ul>
<h2 id="å‚è€ƒ"><a class="header" href="#å‚è€ƒ">å‚è€ƒ</a></h2>
<ul>
<li><a href="https://www.youtube.com/watch?v=jKE1ZW33JpY"><strong>#OBTS v5.0: "Lock Picking the macOS Keychain" - Cody Thomas</strong></a></li>
</ul>
<p>{% hint style="success" %}
å­¦ä¹ å’Œå®è·µ AWS é»‘å®¢æŠ€æœ¯ï¼š<img src="../../.gitbook/assets/arte.png" alt="" data-size="line"><a href="https://training.hacktricks.xyz/courses/arte"><strong>HackTricks Training AWS Red Team Expert (ARTE)</strong></a><img src="../../.gitbook/assets/arte.png" alt="" data-size="line"><br />
å­¦ä¹ å’Œå®è·µ GCP é»‘å®¢æŠ€æœ¯ï¼š<img src="../../.gitbook/assets/grte.png" alt="" data-size="line"><a href="https://training.hacktricks.xyz/courses/grte"><strong>HackTricks Training GCP Red Team Expert (GRTE)</strong><img src="../../.gitbook/assets/grte.png" alt="" data-size="line"></a></p>
<details>
<summary>æ”¯æŒ HackTricks</summary>
<ul>
<li>æŸ¥çœ‹ <a href="https://github.com/sponsors/carlospolop"><strong>è®¢é˜…è®¡åˆ’</strong></a>!</li>
<li><strong>åŠ å…¥</strong> ğŸ’¬ <a href="https://discord.gg/hRep4RUj7f"><strong>Discord ç¾¤ç»„</strong></a> æˆ– <a href="https://t.me/peass"><strong>ç”µæŠ¥ç¾¤ç»„</strong></a> æˆ– <strong>å…³æ³¨</strong> æˆ‘ä»¬çš„ <strong>Twitter</strong> ğŸ¦ <a href="https://twitter.com/hacktricks_live"><strong>@hacktricks_live</strong></a><strong>.</strong></li>
<li><strong>é€šè¿‡å‘</strong> <a href="https://github.com/carlospolop/hacktricks"><strong>HackTricks</strong></a> å’Œ <a href="https://github.com/carlospolop/hacktricks-cloud"><strong>HackTricks Cloud</strong></a> github ä»“åº“æäº¤ PR æ¥åˆ†äº«é»‘å®¢æŠ€å·§ã€‚</li>
</ul>
</details>
{% endhint %}

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../../macos-hardening/macos-red-teaming/macos-mdm/macos-serial-number.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="../../macos-hardening/macos-useful-commands.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../../macos-hardening/macos-red-teaming/macos-mdm/macos-serial-number.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="../../macos-hardening/macos-useful-commands.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../../elasticlunr.min.js"></script>
        <script src="../../mark.min.js"></script>
        <script src="../../searcher.js"></script>

        <script src="../../clipboard.min.js"></script>
        <script src="../../highlight.js"></script>
        <script src="../../book.js"></script>

        <!-- Custom JS scripts -->


    </div>
    </body>
</html>
